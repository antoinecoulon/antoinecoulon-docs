"use strict";(self.webpackChunkantoinecoulon_docs=self.webpackChunkantoinecoulon_docs||[]).push([[5617],{1313:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"documentation/Langages/Node.js-Express.js","title":"Node.js - Express.js","description":"- Node.js - Express.js","source":"@site/docs/documentation/Langages/Node.js-Express.js.md","sourceDirName":"documentation/Langages","slug":"/documentation/Langages/Node.js-Express.js","permalink":"/antoinecoulon-docs/docs/documentation/Langages/Node.js-Express.js","draft":false,"unlisted":false,"editUrl":"https://github.com/antoinecoulon/antoinecoulon-docs/tree/master/docs/documentation/Langages/Node.js-Express.js.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Kotlin","permalink":"/antoinecoulon-docs/docs/documentation/Langages/Kotlin"},"next":{"title":"PHP / Symfony","permalink":"/antoinecoulon-docs/docs/documentation/Langages/PHP-Symfony"}}');var i=s(4848),l=s(8453);const d={},o="Node.js - Express.js",a={},c=[{value:"Node.js - Introduction",id:"nodejs---introduction",level:2},{value:"Qu&#39;est-ce que Node.js ?",id:"quest-ce-que-nodejs-",level:3},{value:"Pourquoi Node.js ?",id:"pourquoi-nodejs-",level:3},{value:"Avantages",id:"avantages",level:3},{value:"Inconv\xe9nients",id:"inconv\xe9nients",level:3},{value:"Les Bases de Node.js",id:"les-bases-de-nodejs",level:2},{value:"Modules en Node.js",id:"modules-en-nodejs",level:2},{value:"Modules Int\xe9gr\xe9s",id:"modules-int\xe9gr\xe9s",level:3},{value:"Modules Personnalis\xe9s",id:"modules-personnalis\xe9s",level:3},{value:"Utilisation de use strict",id:"utilisation-de-use-strict",level:2},{value:"Utilisation de \u2018npm\u2019",id:"utilisation-de-npm",level:2},{value:"Installer un Package",id:"installer-un-package",level:3},{value:"Utiliser un Package",id:"utiliser-un-package",level:3},{value:"node / nodemon",id:"node--nodemon",level:3},{value:"Ressources Suppl\xe9mentaires",id:"ressources-suppl\xe9mentaires",level:2},{value:"Express.js - Introduction",id:"expressjs---introduction",level:2},{value:"Installation d&#39;Express.js",id:"installation-dexpressjs",level:2},{value:"Cr\xe9ation d&#39;un Serveur Simple",id:"cr\xe9ation-dun-serveur-simple",level:2},{value:"Gestion des Routes",id:"gestion-des-routes",level:2},{value:"Middleware en Express",id:"middleware-en-express",level:2},{value:"Exemple de Middleware",id:"exemple-de-middleware",level:3},{value:"Gestion des Param\xe8tres",id:"gestion-des-param\xe8tres",level:2},{value:"Param\xe8tres d&#39;URL",id:"param\xe8tres-durl",level:3},{value:"Param\xe8tres de Query",id:"param\xe8tres-de-query",level:3},{value:"Gestion des Fichiers Statiques",id:"gestion-des-fichiers-statiques",level:2},{value:"Communication avec le front",id:"communication-avec-le-front",level:2},{value:"Exemple simple de Token JWT",id:"exemple-simple-de-token-jwt",level:2},{value:"Connexion \xe0 une BDD",id:"connexion-\xe0-une-bdd",level:2},{value:"Avec Mongoose",id:"avec-mongoose",level:3},{value:"Introduction vers une API REST Basique",id:"introduction-vers-une-api-rest-basique",level:2},{value:"Utilisation de Views avec EJS",id:"utilisation-de-views-avec-ejs",level:2},{value:"Installation de EJS",id:"installation-de-ejs",level:3},{value:"Configuration de Express pour utiliser EJS",id:"configuration-de-express-pour-utiliser-ejs",level:3},{value:"Cr\xe9ation d&#39;une Vue avec EJS",id:"cr\xe9ation-dune-vue-avec-ejs",level:3},{value:"Affichage d&#39;une Vue avec Express",id:"affichage-dune-vue-avec-express",level:3},{value:"Passer des Donn\xe9es Dynamiques",id:"passer-des-donn\xe9es-dynamiques",level:3}];function t(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"nodejs---expressjs",children:"Node.js - Express.js"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#nodejs---expressjs",children:"Node.js - Express.js"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#nodejs---introduction",children:"Node.js - Introduction"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#quest-ce-que-nodejs-",children:"Qu'est-ce que Node.js ?"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#pourquoi-nodejs-",children:"Pourquoi Node.js ?"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#avantages",children:"Avantages"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#inconv%C3%A9nients",children:"Inconv\xe9nients"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#les-bases-de-nodejs",children:"Les Bases de Node.js"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#modules-en-nodejs",children:"Modules en Node.js"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#modules-int%C3%A9gr%C3%A9s",children:"Modules Int\xe9gr\xe9s"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#modules-personnalis%C3%A9s",children:"Modules Personnalis\xe9s"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#utilisation-de-use-strict",children:"Utilisation de use strict"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#utilisation-de-npm",children:"Utilisation de \u2018npm\u2019"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#installer-un-package",children:"Installer un Package"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#utiliser-un-package",children:"Utiliser un Package"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#node--nodemon",children:"node / nodemon"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ressources-suppl%C3%A9mentaires",children:"Ressources Suppl\xe9mentaires"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#expressjs---introduction",children:"Express.js - Introduction"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#installation-dexpressjs",children:"Installation d'Express.js"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#cr%C3%A9ation-dun-serveur-simple",children:"Cr\xe9ation d'un Serveur Simple"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gestion-des-routes",children:"Gestion des Routes"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#middleware-en-express",children:"Middleware en Express"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#exemple-de-middleware",children:"Exemple de Middleware"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#gestion-des-param%C3%A8tres",children:"Gestion des Param\xe8tres"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#param%C3%A8tres-durl",children:"Param\xe8tres d'URL"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#param%C3%A8tres-de-query",children:"Param\xe8tres de Query"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gestion-des-fichiers-statiques",children:"Gestion des Fichiers Statiques"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#communication-avec-le-front",children:"Communication avec le front"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#exemple-simple-de-token-jwt",children:"Exemple simple de Token JWT"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#connexion-%C3%A0-une-bdd",children:"Connexion \xe0 une BDD"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#avec-mongoose",children:"Avec Mongoose"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#introduction-vers-une-api-rest-basique",children:"Introduction vers une API REST Basique"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#utilisation-de-views-avec-ejs",children:"Utilisation de Views avec EJS"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#installation-de-ejs",children:"Installation de EJS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#configuration-de-express-pour-utiliser-ejs",children:"Configuration de Express pour utiliser EJS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#cr%C3%A9ation-dune-vue-avec-ejs",children:"Cr\xe9ation d'une Vue avec EJS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#affichage-dune-vue-avec-express",children:"Affichage d'une Vue avec Express"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#passer-des-donn%C3%A9es-dynamiques",children:"Passer des Donn\xe9es Dynamiques"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"nodejs---introduction",children:"Node.js - Introduction"}),"\n",(0,i.jsx)(n.h3,{id:"quest-ce-que-nodejs-",children:"Qu'est-ce que Node.js ?"}),"\n",(0,i.jsxs)(n.p,{children:["Node.js est un ",(0,i.jsx)(n.strong,{children:"environnement d'ex\xe9cution JavaScript c\xf4t\xe9 serveur"}),". Il permet d'ex\xe9cuter du code JavaScript en dehors du navigateur, ce qui est particuli\xe8rement utile pour le d\xe9veloppement d'applications c\xf4t\xe9 serveur. Node.js utilise ",(0,i.jsx)(n.strong,{children:"le moteur JavaScript V8"})," d\xe9velopp\xe9 par Google."]}),"\n",(0,i.jsx)(n.h3,{id:"pourquoi-nodejs-",children:"Pourquoi Node.js ?"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance"})," : Node.js est rapide et efficace gr\xe2ce \xe0 son mod\xe8le d'E/S non bloquant."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\xc9cosyst\xe8me"})," : Un vaste \xe9cosyst\xe8me de modules et de biblioth\xe8ques disponibles via npm (Node Package Manager)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Communaut\xe9"})," : Une grande communaut\xe9 de d\xe9veloppeurs et de nombreuses ressources disponibles."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"avantages",children:"Avantages"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Boucle d'\xe9v\xe9nement non bloquante"}),"\n",(0,i.jsx)(n.li,{children:"Fonctionnalit\xe9s multi-plateforme"}),"\n",(0,i.jsx)(n.li,{children:"JSON (JavaScript Object Notation)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"inconv\xe9nients",children:"Inconv\xe9nients"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Pas de programmation multi-thread"}),"\n",(0,i.jsx)(n.li,{children:"Manque de r\xe9trocompatibilit\xe9"}),"\n",(0,i.jsx)(n.li,{children:"Complexit\xe9 des appels asynchrones"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"les-bases-de-nodejs",children:"Les Bases de Node.js"}),"\n",(0,i.jsx)(n.p,{children:"Cr\xe9er un Fichier Node.js:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Cr\xe9ez un fichier nomm\xe9 app.js."}),"\n",(0,i.jsx)(n.li,{children:'Ajoutez le code suivant pour afficher "Hello, World!" dans le terminal :'}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log('Hello, World!');\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ex\xe9cutez le fichier avec la commande :"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node app.js\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"modules-en-nodejs",children:"Modules en Node.js"}),"\n",(0,i.jsx)(n.h3,{id:"modules-int\xe9gr\xe9s",children:"Modules Int\xe9gr\xe9s"}),"\n",(0,i.jsx)(n.p,{children:"Quelques exemples de modules natifs de node.js:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"fs"})," lecture et \xe9criture de fichiers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"https"}),", ",(0,i.jsx)(n.strong,{children:"http"})," cr\xe9ation de serveurs HTTP ou s\xe9curis\xe9s HTTPS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"path"})," chemins de fichiers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"os"})," informations sur le syst\xe8me d\u2019exploitation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"url"})," parser et formater des URL"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"crypto"})," chiffrement des donn\xe9es"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"zlib"})," compression et d\xe9compression des donn\xe9es"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"fs"})," : Module pour lire et \xe9crire des fichiers."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nfs.readFile('example.txt', 'utf8', (err, data) => {\n\n    if (err) throw err;\n\n    console.log(data);\n\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"path"})," : Module pour travailler avec les chemins de fichiers."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const path = require('path');\n\nconst filePath = path.join(__dirname, 'example.txt');\n\nconsole.log(filePath);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"http"})," : Module pour cr\xe9er un serveur HTTP."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const http = require('http');\n\nconst server = http.createServer((req, res) => {\n\n    res.statusCode = 200;\n\n    res.setHeader('Content-Type', 'text/plain');\n\n    res.end('Hello, World!\\n');\n\n});\n\nserver.listen(3000, '127.0.0.1', () => {\n\n    console.log('Server running at http://127.0.0.1:3000/');\n\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"modules-personnalis\xe9s",children:"Modules Personnalis\xe9s"}),"\n",(0,i.jsx)(n.p,{children:"Vous pouvez cr\xe9er vos propres modules et les inclure dans vos fichiers."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Cr\xe9er un module : Cr\xe9ez un fichier nomm\xe9 greet.js:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"function greet(name) {\n\n    console.log(`Hello, ${name}!`);\n\n}\n\nmodule.exports = greet;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Utiliser le module : Dans app.js, incluez et utilisez le module greet:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const greet = require('./greet');\n\ngreet('World');\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Charger un module:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"require('...');\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { ... } from '...';\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"utilisation-de-use-strict",children:"Utilisation de use strict"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:'"use strict";'})," g\xe9n\xe8re une erreur en cas de:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"variable non d\xe9clar\xe9e"}),"\n",(0,i.jsx)(n.li,{children:"utilisation de this dans une fonction qui n\u2019a pas de contexte"}),"\n",(0,i.jsx)(n.li,{children:"r\xe9f\xe9rence \xe0 une variable avant qu\u2019elle ait \xe9t\xe9 d\xe9clar\xe9e"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"=>"})," Bonne pratique qui am\xe9liore la qualit\xe9 du code"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"utilisation-de-npm",children:"Utilisation de \u2018npm\u2019"}),"\n",(0,i.jsx)(n.h3,{id:"installer-un-package",children:"Installer un Package"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Pour installer un package, utilisez la commande ",(0,i.jsx)(n.em,{children:"npm install"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install express\n"})}),"\n",(0,i.jsx)(n.h3,{id:"utiliser-un-package",children:"Utiliser un Package"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Incluez et utilisez le package dans votre fichier."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const express = require('express');\n\nconst app = express();\n\nconst port = 3000;\n\napp.get('/', (req, res) => {\n\n    res.send('Hello, World!');\n\n});\n\napp.listen(port, () => {\n\n    console.log(`Server running at http://localhost:${port}/`);\n\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"node--nodemon",children:"node / nodemon"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node app.js\n"})}),"\n",(0,i.jsx)(n.p,{children:"=> lance l\u2019app mais doit \xeatre relanc\xe9e pour voir les modifs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nodemon app.js\n"})}),"\n",(0,i.jsx)(n.p,{children:"=> se relance automatiquement apr\xe8s des modifications dans un fichier"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ressources-suppl\xe9mentaires",children:"Ressources Suppl\xe9mentaires"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Documentation officielle : ",(0,i.jsx)(n.a,{href:"https://nodejs.org/docs/",children:"nodejs.org/docs"})]}),"\n",(0,i.jsxs)(n.li,{children:["npm : ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/",children:"npmjs.com"})]}),"\n",(0,i.jsxs)(n.li,{children:["Tutoriels et Cours en Ligne : ",(0,i.jsx)(n.a,{href:"https://www.freecodecamp.org/",children:"freeCodeCamp"}),", ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/",children:"MDN Web Docs"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"expressjs---introduction",children:"Express.js - Introduction"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Express.js est un framework minimaliste et flexible pour Node.js qui permet de cr\xe9er rapidement des applications web et des API. Il simplifie la gestion des routes, des requ\xeates HTTP et des middleware."})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"installation-dexpressjs",children:"Installation d'Express.js"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Initialiser un projet Node.js:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir mon-projet-express\n\ncd mon-projet-express\n\nnpm init -y\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Cela g\xe9n\xe8re un fichier ",(0,i.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Installer Express.js:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install express\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cr\xe9ation-dun-serveur-simple",children:"Cr\xe9ation d'un Serveur Simple"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://antoinecoulon.github.io/antoinecoulon-docs/docs/documentation/G%C3%A9n%C3%A9ral/API",children:"Voir aussi..."})}),"\n",(0,i.jsx)(n.p,{children:'Cr\xe9ons un serveur avec Express qui affiche "Hello, World!" sur la page d\'accueil.'}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Cr\xe9er un fichier ",(0,i.jsx)(n.code,{children:"server.js"})," et ajouter le code suivant :"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const express = require('express');\n\nconst app = express();\n\nconst port = 3000;\n\napp.get('/', (req, res) => {\n\n    res.send('Hello, World!');\n\n});\n\napp.listen(port, () => {\n\n    console.log(`Serveur d\xe9marr\xe9 sur http://localhost:${port}`);\n\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Lancer le serveur:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node server.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Acc\xe9der \xe0 ",(0,i.jsx)(n.code,{children:"http://localhost:3000"})," dans un navigateur."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"gestion-des-routes",children:"Gestion des Routes"}),"\n",(0,i.jsx)(n.p,{children:"Express permet de d\xe9finir des routes pour diff\xe9rentes URL."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.get('/about', (req, res) => {\n\n    res.send('Page About');\n\n});\n\napp.get('/contact', (req, res) => {\n\n    res.send('Page Contact');\n\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"middleware-en-express",children:"Middleware en Express"}),"\n",(0,i.jsx)(n.p,{children:"Les middleware sont des fonctions qui s'ex\xe9cutent entre la requ\xeate et la r\xe9ponse."}),"\n",(0,i.jsx)(n.h3,{id:"exemple-de-middleware",children:"Exemple de Middleware"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.use((req, res, next) => {\n\n    console.log(`Requ\xeate re\xe7ue : ${req.method} ${req.url}`);\n\n    next();\n\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Express poss\xe8de des middleware int\xe9gr\xe9s comme ",(0,i.jsx)(n.code,{children:"express.json()"})," pour parser le JSON dans les requ\xeates."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.use(express.json());\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"gestion-des-param\xe8tres",children:"Gestion des Param\xe8tres"}),"\n",(0,i.jsx)(n.h3,{id:"param\xe8tres-durl",children:"Param\xe8tres d'URL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.get('/user/:id', (req, res) => {\n\n    res.send(`Utilisateur ID: ${req.params.id}`);\n\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Acc\xe9der \xe0 ",(0,i.jsx)(n.code,{children:"http://localhost:3000/user/123"})," affichera ",(0,i.jsx)(n.code,{children:"Utilisateur ID: 123"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"param\xe8tres-de-query",children:"Param\xe8tres de Query"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.get('/search', (req, res) => {\n\n    res.send(`Recherche : ${req.query.q}`);\n\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Acc\xe9der \xe0 ",(0,i.jsx)(n.code,{children:"http://localhost:3000/search?q=express"})," affichera ",(0,i.jsx)(n.code,{children:"Recherche : express"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"gestion-des-fichiers-statiques",children:"Gestion des Fichiers Statiques"}),"\n",(0,i.jsx)(n.p,{children:"On peut servir des fichiers statiques (HTML, CSS, images, etc.) avec :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.use(express.static('public'));\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Placez un fichier ",(0,i.jsx)(n.code,{children:"public/index.html"}),", et il sera accessible via ",(0,i.jsx)(n.code,{children:"http://localhost:3000/index.html"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"communication-avec-le-front",children:"Communication avec le front"}),"\n",(0,i.jsx)(n.p,{children:"Attention \xe0 la protection CORS:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const cors = require("cors");\n\n// app.options(\'*\', cors());\n\napp.use(cors({\n    origin: "http://localhost:4200",\n    methods: "GET, POST, PUT, DELETE",\n    allowedHeaders: "Content-Type,Authorization",\n    credentials: true,\n}));\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"exemple-simple-de-token-jwt",children:"Exemple simple de Token JWT"}),"\n",(0,i.jsxs)(n.p,{children:["Importer le module ",(0,i.jsx)(n.code,{children:"jsonwebtoken"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const jwt = require("jsonwebtoken");\n'})}),"\n",(0,i.jsxs)(n.p,{children:["D\xe9finir un JWT c\xf4t\xe9 serveur: (",(0,i.jsxs)(n.em,{children:["Attention: \xe0 cacher dans le ",(0,i.jsx)(n.code,{children:"env"})]}),")"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const JWT_SECRET = "my_secret_token";\n'})}),"\n",(0,i.jsx)(n.p,{children:"Associer un token jwt \xe0 un utilisateur:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const token = jwt.sign({ id: user._id }, JWT_SECRET, { expiresIn: '1h' });\n\nres.status(200).json({ token });\n"})}),"\n",(0,i.jsx)(n.p,{children:"Exemple de v\xe9rification avec un middleware:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const authMiddleware = (req, res, next) => {\n    const token = req.header('Authorization').split(' ')[1];\n\n    if (!token) return res.status(401).json({ message: \"Access denied, no token provided.\"});\n\n    try {\n        const decoded = jwt.verify(token, JWT_SECRET);\n        req.user = decoded;\n        next();\n    } catch(error) {\n        console.error('Token verification error:', error);\n        res.status(401).json({ message: \"Invalid token\" });\n    }\n};\n\napp.get(\"/users\", authMiddleware, async (req, res) => {...})\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"connexion-\xe0-une-bdd",children:"Connexion \xe0 une BDD"}),"\n",(0,i.jsx)(n.h3,{id:"avec-mongoose",children:"Avec Mongoose"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const mongoose = require("mongoose");\nconst bodyParser = require("body-parser");\n\napp.use(bodyParser.json());\n\n// Connexion BDD\nmongoose.connect("mongodb://localhost:27017/youtoine", {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n});\n\nconst db = mongoose.connection;\ndb.on("error", console.error.bind(console, "connection error:"));\ndb.once("open", () => {\n    console.log("Connected to MongoDB");\n});\n\n// Schema + model\nconst userSchema = new mongoose.Schema({\n    username: String,\n    email: String,\n    password: String,\n});\n\nconst User = mongoose.model("User", userSchema);\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"introduction-vers-une-api-rest-basique",children:"Introduction vers une API REST Basique"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"D\xe9finir une liste d'objets"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const users = [\n\n    { id: 1, name: 'Alice' },\n\n    { id: 2, name: 'Bob' }\n\n];\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Endpoints pour r\xe9cup\xe9rer les utilisateurs"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.get('/api/users', (req, res) => {\n\n    res.json(users);\n\n});\n\napp.get('/api/users/:id', (req, res) => {\n\n    const user = users.find(u => u.id == req.params.id);\n\n    user ? res.json(user) : res.status(404).send('Utilisateur non trouv\xe9');\n\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"utilisation-de-views-avec-ejs",children:"Utilisation de Views avec EJS"}),"\n",(0,i.jsx)(n.p,{children:"EJS (Embedded JavaScript) est un moteur de template qui permet d'inclure du code JavaScript dans des fichiers HTML dynamiques."}),"\n",(0,i.jsx)(n.h3,{id:"installation-de-ejs",children:"Installation de EJS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install ejs\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration-de-express-pour-utiliser-ejs",children:"Configuration de Express pour utiliser EJS"}),"\n",(0,i.jsxs)(n.p,{children:["Ajoutez ceci \xe0 votre ",(0,i.jsx)(n.code,{children:"server.js"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.set('view engine', 'ejs');\n\napp.set('views', './views');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Cela dit \xe0 Express que les fichiers de template seront stock\xe9s dans un dossier ",(0,i.jsx)(n.code,{children:"views/"})," et utiliseront EJS."]}),"\n",(0,i.jsx)(n.h3,{id:"cr\xe9ation-dune-vue-avec-ejs",children:"Cr\xe9ation d'une Vue avec EJS"}),"\n",(0,i.jsxs)(n.p,{children:["Cr\xe9ez un dossier ",(0,i.jsx)(n.code,{children:"views/"})," et un fichier ",(0,i.jsx)(n.code,{children:"views/index.ejs"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'<!DOCTYPE html>\n\n<html lang="fr">\n\n<head>\n\n    <meta charset="UTF-8">\n\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n    <title>Page d\'accueil</title>\n\n</head>\n\n<body>\n\n    <h1>Bienvenue, <%= name %>!</h1>\n\n</body>\n\n</html>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"affichage-dune-vue-avec-express",children:"Affichage d'une Vue avec Express"}),"\n",(0,i.jsxs)(n.p,{children:["Ajoutez cette route dans ",(0,i.jsx)(n.code,{children:"server.js"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.get('/home', (req, res) => {\n\n    res.render('index', { name: 'Jean' });\n\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Lorsque vous acc\xe9dez \xe0 ",(0,i.jsx)(n.code,{children:"http://localhost:3000/home"}),', la page affichera "Bienvenue, Jean!".']}),"\n",(0,i.jsx)(n.h3,{id:"passer-des-donn\xe9es-dynamiques",children:"Passer des Donn\xe9es Dynamiques"}),"\n",(0,i.jsx)(n.p,{children:"Vous pouvez r\xe9cup\xe9rer des donn\xe9es dynamiques et les afficher dans la vue :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.get('/user/:name', (req, res) => {\n\n    res.render('index', { name: req.params.name });\n\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Acc\xe9dez \xe0 ",(0,i.jsx)(n.code,{children:"http://localhost:3000/user/Alice"}),' pour voir "Bienvenue, Alice!".']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"TODO:"})," Ajouter : gestion des erreurs, formulaires + validation"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>o});var r=s(6540);const i={},l=r.createContext(i);function d(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);