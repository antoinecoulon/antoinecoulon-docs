"use strict";(self.webpackChunkantoinecoulon_docs=self.webpackChunkantoinecoulon_docs||[]).push([[3881],{8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const a={},i=s.createContext(a);function t(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(i.Provider,{value:n},e.children)}},9256:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"documentation/G\xe9n\xe9ral/API","title":"API","description":"Notions et cours API","source":"@site/docs/documentation/G\xe9n\xe9ral/API.md","sourceDirName":"documentation/G\xe9n\xe9ral","slug":"/documentation/G\xe9n\xe9ral/API","permalink":"/antoinecoulon-docs/docs/documentation/G\xe9n\xe9ral/API","draft":false,"unlisted":false,"editUrl":"https://github.com/antoinecoulon/antoinecoulon-docs/tree/master/docs/documentation/G\xe9n\xe9ral/API.md","tags":[],"version":"current","frontMatter":{"description":"Notions et cours API"},"sidebar":"tutorialSidebar","previous":{"title":"Sommaire","permalink":"/antoinecoulon-docs/docs/documentation/G\xe9n\xe9ral/intro"},"next":{"title":"Analyse et Conception","permalink":"/antoinecoulon-docs/docs/documentation/G\xe9n\xe9ral/Analyse_conception"}}');var a=r(4848),i=r(8453);const t={description:"Notions et cours API"},o="API",d={},l=[{value:"Cr\xe9er son API pour Level Up",id:"cr\xe9er-son-api-pour-level-up",level:2},{value:"\xc9tape 1 : Pr\xe9parer l&#39;environnement",id:"\xe9tape-1--pr\xe9parer-lenvironnement",level:3},{value:"\xc9tape 2 : Installer Express.js",id:"\xe9tape-2--installer-expressjs",level:3},{value:"\xc9tape 3 : Cr\xe9er le serveur Express",id:"\xe9tape-3--cr\xe9er-le-serveur-express",level:3},{value:"\xc9tape 4 : Lancer le serveur",id:"\xe9tape-4--lancer-le-serveur",level:3},{value:"\xc9tape 5 : Tester l&#39;API",id:"\xe9tape-5--tester-lapi",level:3},{value:"Gestion des Donn\xe9es",id:"gestion-des-donn\xe9es",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"api",children:"API"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#api",children:"API"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#cr%C3%A9er-son-api-pour-level-up",children:"Cr\xe9er son API pour Level Up"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#%C3%A9tape-1--pr%C3%A9parer-lenvironnement",children:"\xc9tape 1 : Pr\xe9parer l'environnement"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#%C3%A9tape-2--installer-expressjs",children:"\xc9tape 2 : Installer Express.js"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#%C3%A9tape-3--cr%C3%A9er-le-serveur-express",children:"\xc9tape 3 : Cr\xe9er le serveur Express"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#%C3%A9tape-4--lancer-le-serveur",children:"\xc9tape 4 : Lancer le serveur"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#%C3%A9tape-5--tester-lapi",children:"\xc9tape 5 : Tester l'API"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#gestion-des-donn%C3%A9es",children:"Gestion des Donn\xe9es"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"cr\xe9er-son-api-pour-level-up",children:"Cr\xe9er son API pour Level Up"}),"\n",(0,a.jsx)(n.h3,{id:"\xe9tape-1--pr\xe9parer-lenvironnement",children:"\xc9tape 1 : Pr\xe9parer l'environnement"}),"\n",(0,a.jsx)(n.p,{children:"Installer Node.js et npm : Assurez-vous d'avoir Node.js et npm (Node Package Manager) install\xe9s sur votre machine. Vous pouvez les t\xe9l\xe9charger depuis nodejs.org."}),"\n",(0,a.jsx)(n.p,{children:"Cr\xe9er un nouveau r\xe9pertoire pour votre projet :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"mkdir mon-api-perso\ncd mon-api-perso\n"})}),"\n",(0,a.jsx)(n.p,{children:"Initialiser un projet Node.js :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm init -y\n"})}),"\n",(0,a.jsx)(n.p,{children:"Cela cr\xe9era un fichier package.json avec les configurations par d\xe9faut."}),"\n",(0,a.jsx)(n.h3,{id:"\xe9tape-2--installer-expressjs",children:"\xc9tape 2 : Installer Express.js"}),"\n",(0,a.jsx)(n.p,{children:"Installer Express.js :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install express\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\xe9tape-3--cr\xe9er-le-serveur-express",children:"\xc9tape 3 : Cr\xe9er le serveur Express"}),"\n",(0,a.jsx)(n.p,{children:"Cr\xe9er un fichier server.js :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"const express = require('express');\nconst app = express();\nconst port = 3000;\n\n// Middleware pour parser le JSON\napp.use(express.json());\n\n// Donn\xe9es fictives\nconst data = [\n    { id: 1, name: 'Item 1', description: 'Description de l\\'item 1' },\n    { id: 2, name: 'Item 2', description: 'Description de l\\'item 2' },\n];\n\n// Route pour obtenir toutes les donn\xe9es\napp.get('/api/data', (req, res) => {\n    res.json(data);\n});\n\n// Route pour obtenir une donn\xe9e par ID\napp.get('/api/data/:id', (req, res) => {\n    const item = data.find(d => d.id === parseInt(req.params.id));\n    if (!item) return res.status(404).send('Item non trouv\xe9');\n    res.json(item);\n});\n\n// Route pour ajouter une nouvelle donn\xe9e\napp.post('/api/data', (req, res) => {\n    const newItem = {\n        id: data.length + 1,\n        name: req.body.name,\n        description: req.body.description\n    };\n    data.push(newItem);\n    res.status(201).json(newItem);\n});\n\n// Route pour mettre \xe0 jour une donn\xe9e\napp.put('/api/data/:id', (req, res) => {\n    const item = data.find(d => d.id === parseInt(req.params.id));\n    if (!item) return res.status(404).send('Item non trouv\xe9');\n\n    item.name = req.body.name;\n    item.description = req.body.description;\n    res.json(item);\n});\n\n// Route pour supprimer une donn\xe9e\napp.delete('/api/data/:id', (req, res) => {\n    const itemIndex = data.findIndex(d => d.id === parseInt(req.params.id));\n    if (itemIndex === -1) return res.status(404).send('Item non trouv\xe9');\n\n    const deletedItem = data.splice(itemIndex, 1);\n    res.json(deletedItem);\n});\n\n// D\xe9marrer le serveur\napp.listen(port, () => {\n    console.log(`Serveur d\xe9marr\xe9 sur http://localhost:${port}`);\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\xe9tape-4--lancer-le-serveur",children:"\xc9tape 4 : Lancer le serveur"}),"\n",(0,a.jsx)(n.p,{children:"D\xe9marrer le serveur :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node server.js\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Votre API devrait maintenant \xeatre en cours d'ex\xe9cution sur ",(0,a.jsx)(n.code,{children:"http://localhost:3000"}),". Vous pouvez tester les diff\xe9rentes routes avec un outil comme Postman ou directement dans votre navigateur pour les requ\xeates GET."]}),"\n",(0,a.jsx)(n.h3,{id:"\xe9tape-5--tester-lapi",children:"\xc9tape 5 : Tester l'API"}),"\n",(0,a.jsxs)(n.p,{children:["GET /api/data : R\xe9cup\xe8re toutes les donn\xe9es.\nGET /api/data/",":id"," : R\xe9cup\xe8re une donn\xe9e par son ID.\nPOST /api/data : Ajoute une nouvelle donn\xe9e (envoyez un JSON avec name et description dans le corps de la requ\xeate).\nPUT /api/data/",":id"," : Met \xe0 jour une donn\xe9e existante (envoyez un JSON avec name et description dans le corps de la requ\xeate).\nDELETE /api/data/",":id"," : Supprime une donn\xe9e par son ID.\nAvec ces \xe9tapes, vous avez une API de base fonctionnelle. Vous pouvez l'\xe9tendre en ajoutant plus de fonctionnalit\xe9s, en connectant une base de donn\xe9es, ou en ajoutant des validations et des authentifications selon vos besoins."]}),"\n",(0,a.jsx)(n.h3,{id:"gestion-des-donn\xe9es",children:"Gestion des Donn\xe9es"}),"\n",(0,a.jsx)(n.p,{children:"On r\xe9cup\xe8rera nos donn\xe9es d'une meilleure fa\xe7on \xe0 terme."}),"\n",(0,a.jsx)(n.p,{children:"Pour l'instant, au lieu d'avoir un tableau de donn\xe9es en dur dans le code de gestion des routes (server.js), on va les r\xe9cup\xe9rer dans un fichier \xe0 part, comme pour simuler des donn\xe9es r\xe9cup\xe9r\xe9es depuis l'ext\xe9rieur de l'API."}),"\n",(0,a.jsx)(n.p,{children:"On cr\xe9\xe9 un dossier '/data' et pour l'exemple nous allons cr\xe9er des donn\xe9es sur les animaux."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="animals.js"',children:'const animals = [\n    { id: 1, name: "Ours polaire", description: "Adapt\xe9 \xe0 la vie dans les r\xe9gions arctiques, excellent nageur." },\n    { id: 2, name: "Rhinoc\xe9ros", description: "Mammif\xe8re massif avec une ou deux cornes sur le nez." },\n    { id: 3, name: "Autruche", description: "Le plus grand oiseau, incapable de voler mais rapide \xe0 la course." },\n    { id: 4, name: "Girafe", description: "Le plus haut mammif\xe8re, avec un long cou distinctif." },\n    { id: 5, name: "Aigle", description: "Oiseau de proie avec une vue per\xe7ante et un vol majestueux." },\n    { id: 6, name: "Hibou", description: "Oiseau nocturne avec une t\xeate large et des yeux per\xe7ants." },\n    { id: 7, name: "Chimpanz\xe9", description: "Grand singe intelligent, proche cousin de l\'homme." },\n    { id: 8, name: "Morse", description: "Mammif\xe8re marin avec de longues d\xe9fenses et une peau \xe9paisse." },\n    { id: 9, name: "Panda g\xe9ant", description: "Herbivore embl\xe9matique, adore le bambou." },\n    { id: 10, name: "Koala", description: "Marsupial arboricole, se nourrit principalement d\'eucalyptus." },\n    { id: 11, name: "Cochon", description: "Mammif\xe8re domestique, \xe9lev\xe9 pour sa viande et son intelligence." },\n    { id: 12, name: "Crocodile", description: "Reptile aquatique redoutable, avec une morsure puissante." },\n    { id: 13, name: "Panth\xe8re", description: "F\xe9lin noir, variante m\xe9lanique du l\xe9opard ou du jaguar." },\n    { id: 14, name: "Cerf", description: "Mammif\xe8re avec des bois impressionnants, souvent vu dans les for\xeats." },\n    { id: 15, name: "L\xe9opard", description: "F\xe9lin tachet\xe9, excellent grimpeur et chasseur." },\n    { id: 16, name: "Baleine", description: "Le plus grand mammif\xe8re marin, avec des dimensions impressionnantes." },\n    { id: 17, name: "Renard", description: "Canid\xe9 rus\xe9, connu pour son intelligence et son agilit\xe9." },\n    { id: 18, name: "Tortue", description: "Reptile \xe0 carapace, connu pour sa long\xe9vit\xe9." },\n    { id: 19, name: "L\xe9murien", description: "Primate de Madagascar, avec de grands yeux r\xe9fl\xe9chissants." },\n    { id: 20, name: "Pingouin", description: "Oiseau aquatique adapt\xe9 \xe0 la vie en Antarctique." },\n    { id: 21, name: "Chameau", description: "Mammif\xe8re du d\xe9sert, connu pour ses bosses de stockage de graisse." },\n    { id: 22, name: "Dauphin", description: "Mammif\xe8re marin intelligent, connu pour ses acrobaties." },\n    { id: 23, name: "Loup", description: "Canid\xe9 social, chasse souvent en meute." },\n    { id: 24, name: "Flamant rose", description: "Oiseau \xe9chassier connu pour sa couleur rose vif." },\n    { id: 25, name: "Hippopotame", description: "Mammif\xe8re semi-aquatique, troisi\xe8me plus grand animal terrestre." },\n    { id: 26, name: "Z\xe8bre", description: "\xc9quid\xe9 africain avec des rayures noires et blanches distinctives." },\n    { id: 27, name: "Kangourou", description: "Marsupial australien, connu pour ses bonds puissants." },\n    { id: 28, name: "Tigre", description: "Grand f\xe9lin avec des rayures uniques, excellent chasseur." },\n    { id: 29, name: "\xc9l\xe9phant", description: "Le plus grand animal terrestre, avec une m\xe9moire l\xe9gendaire." },\n    { id: 30, name: "Lion", description: "Roi de la jungle, connu pour sa crini\xe8re majestueuse." },\n]\n\nmodule.exports = animals;\n'})}),"\n",(0,a.jsx)(n.p,{children:"Gr\xe2ce \xe0 la derni\xe8re ligne,"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"module.exports = animals;\n"})}),"\n",(0,a.jsx)(n.p,{children:"on va pouvoir r\xe9cup\xe9rer ces donn\xe9es dans notre serveur:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="server.js"',children:"const data = require('./data/animals');\n"})}),"\n",(0,a.jsx)(n.p,{children:"Attention au formatage de ce fichier !"})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);