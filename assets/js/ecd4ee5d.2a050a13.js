"use strict";(self.webpackChunkantoinecoulon_docs=self.webpackChunkantoinecoulon_docs||[]).push([[838],{1716:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>a,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"documentation/Langages/Database","title":"Base de donn\xe9es","description":"- Base de donn\xe9es","source":"@site/docs/documentation/Langages/Database.md","sourceDirName":"documentation/Langages","slug":"/documentation/Langages/Database","permalink":"/antoinecoulon-docs/docs/documentation/Langages/Database","draft":false,"unlisted":false,"editUrl":"https://github.com/antoinecoulon/antoinecoulon-docs/tree/master/docs/documentation/Langages/Database.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Angular","permalink":"/antoinecoulon-docs/docs/documentation/Langages/Angular"},"next":{"title":"Flutter","permalink":"/antoinecoulon-docs/docs/documentation/Langages/Flutter"}}');var l=s(4848),i=s(8453);const a={},d="Base de donn\xe9es",c={},t=[{value:"Ressources",id:"ressources",level:2},{value:"SQL Server",id:"sql-server",level:2},{value:"Transact-SQL",id:"transact-sql",level:2},{value:"Variables",id:"variables",level:3},{value:"Conditionnelles",id:"conditionnelles",level:3},{value:"Output",id:"output",level:3},{value:"Curseurs",id:"curseurs",level:3},{value:"Clause FOR UPDATE",id:"clause-for-update",level:4},{value:"Clause CURRENT OF",id:"clause-current-of",level:4},{value:"Exemple complet de Curseur",id:"exemple-complet-de-curseur",level:4},{value:"MongoDB",id:"mongodb",level:2},{value:"Guide des Op\xe9rateurs (MongoDB)",id:"guide-des-op\xe9rateurs-mongodb",level:3},{value:"Op\xe9rateurs de Comparaison",id:"op\xe9rateurs-de-comparaison",level:4},{value:"Op\xe9rateurs Logiques",id:"op\xe9rateurs-logiques",level:4},{value:"Op\xe9rateurs de Tableau",id:"op\xe9rateurs-de-tableau",level:4},{value:"Op\xe9rateurs d&#39;Existence",id:"op\xe9rateurs-dexistence",level:4},{value:"Op\xe9rateurs de Mise \xe0 Jour",id:"op\xe9rateurs-de-mise-\xe0-jour",level:4},{value:"Bonnes Pratiques",id:"bonnes-pratiques",level:3},{value:"Notes Importantes",id:"notes-importantes",level:2},{value:"Firebase",id:"firebase",level:2},{value:"Firebase &amp; JS",id:"firebase--js",level:3}];function u(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"base-de-donn\xe9es",children:"Base de donn\xe9es"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#base-de-donn%C3%A9es",children:"Base de donn\xe9es"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#ressources",children:"Ressources"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#sql-server",children:"SQL Server"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#transact-sql",children:"Transact-SQL"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#variables",children:"Variables"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#conditionnelles",children:"Conditionnelles"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#output",children:"Output"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#curseurs",children:"Curseurs"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#clause-for-update",children:"Clause FOR UPDATE"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#clause-current-of",children:"Clause CURRENT OF"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#exemple-complet-de-curseur",children:"Exemple complet de Curseur"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#mongodb",children:"MongoDB"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#guide-des-op%C3%A9rateurs-mongodb",children:"Guide des Op\xe9rateurs (MongoDB)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#op%C3%A9rateurs-de-comparaison",children:"Op\xe9rateurs de Comparaison"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#op%C3%A9rateurs-logiques",children:"Op\xe9rateurs Logiques"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#op%C3%A9rateurs-de-tableau",children:"Op\xe9rateurs de Tableau"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#op%C3%A9rateurs-dexistence",children:"Op\xe9rateurs d'Existence"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#op%C3%A9rateurs-de-mise-%C3%A0-jour",children:"Op\xe9rateurs de Mise \xe0 Jour"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#bonnes-pratiques",children:"Bonnes Pratiques"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#notes-importantes",children:"Notes Importantes"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#firebase",children:"Firebase"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#firebase--js",children:"Firebase & JS"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"ressources",children:"Ressources"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.mysqltutorial.org/getting-started-with-mysql/mysql-sample-database/",children:"MySQL Sample Database"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"sql-server",children:"SQL Server"}),"\n",(0,l.jsx)(n.p,{children:"TODO..."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"transact-sql",children:"Transact-SQL"}),"\n",(0,l.jsx)(n.h3,{id:"variables",children:"Variables"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- d\xe9finir une variable\nDECLARE @nom VARCHAR(50)='Dupont';\n\n-- afficher le nom dans l'onglet \"resultat\"\nSELECT @nom;\n\n-- valoriser ma variable\nDECLARE @id_client INT;\nSELECT @id_client=id_client, @nom=nom FROM Clients WHERE id_client=-142;\n\n-- afficher le nom dans l'onglet \"message\"\nPRINT CONCAT('ID: ' , @id_client);\nPRINT 'Nom: ' + @nom;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"conditionnelles",children:"Conditionnelles"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- case par valeur\nSELECT id_commande AS \"n\xb0 de commande\",\nCASE statut\nWHEN 'EL' THEN 'En livraison'\nWHEN 'LI' THEN 'Livr\xe9e'\nELSE 'Erreur'\nEND etatStatut\nFROM Commandes\n\n-- case par condition\nSELECT id_commande AS \"n\xb0 de commande\",\nCASE\nWHEN DATEDIFF(DAY,date_cmd,GETDATE())>=14 THEN 'plus de deux semaines'\nWHEN DATEDIFF(DAY,date_cmd,GETDATE())>=7 THEN 'plus d''une semaine'\nELSE 'moins d''une semaine'\nEND etat\nFROM Commandes;\n\n--IF avec une seule instruction\n--DECLARE @nbClient INT\n--SELECT @nbClient= COUNT(*) FROM Clients\n--IF @nbClient > 5\n--PRINT CONCAT('nb de clients: ',@nbClient);\n--ELSE\n--PRINT 'moins de 5 clients';\n\nDECLARE @nbClient INT;\nDECLARE @nbFixe INT;\nSELECT @nbClient= COUNT(*), @nbFixe= (SELECT COUNT(fixe) FROM Clients WHERE fixe IS NOT NULL)\nIF @nbClient > 5\nBEGIN\nPRINT CONCAT('nb de clients: ',@nbClient);\nPRINT CONCAT('nb de fixe: ',@nbFixe);\nEND\nELSE\nPRINT 'moins de 5 clients';\n\n--amor\xe7age\nDECLARE @i INT = 1;\nWHILE @i <= 10\nBEGIN\nPRINT CONCAT('7 x ',@i,' = ',7*@i);\nSELECT @i = @i + 1;\nEND\n"})}),"\n",(0,l.jsx)(n.h3,{id:"output",children:"Output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- clause Output\nINSERT INTO Clients\n(id_client, nom, prenom, date_naissance, ville, portable)\nOUTPUT INSERTED.*\nVALUES\n(-153, 'Holmes', 'Sherlock', '10/12/2003', DEFAULT, '0758595456');\n\nBEGIN TRAN suppression;\nDELETE Clients\nOUTPUT deleted.*\nWHERE id_client < 0;\n\nROLLBACK TRAN suppression;\n\nBEGIN TRAN modification;\nUPDATE Clients set prenom = NULL\nOUTPUT deleted.id_client, deleted.prenom avant, inserted.prenom apres\n\nROLLBACK TRAN modification;\n\nBEGIN TRAN inserer;\nDECLARE @tclients TABLE (\n    id_client INT PRIMARY KEY,\n    nom VARCHAR(50),\n    prenom VARCHAR(40),\n    date_naissance DATE,\n    ville VARCHAR(50),\n    fixe NUMERIC(10)\n    );\nINSERT INTO Clients (id_client, nom, prenom, date_naissance, ville, fixe)\nOUTPUT inserted.id_client, inserted.nom, inserted.prenom, inserted.date_naissance, inserted.ville, inserted.fixe INTO @tclients\nVALUES(-154, 'Watson', 'John', '10/12/2000', DEFAULT, '0251534565');\nSELECT * FROM @tclients;\nDECLARE @date_naissance DATE;\nSELECT @date_naissance= date_naissance FROM @tclients;\nPRINT @date_naissance;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"curseurs",children:"Curseurs"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- D\xe9clarer le Curseur\nDECLARE cClients CURSOR FOR SELECT noCli, nom, prenom FROM Clients WHERE noCli < 5;\n\n-- Ouvrir le curseur\nOPEN cClients;\n\n-- Fetch (je r\xe9cup\xe8re les colonnes du SELECT)\nDECLARE @id INT;\nDECLARE @nom VARCHAR(30);\nDECLARE @prenom VARCHAR(30);\nFETCH NEXT FROM cClients INTO @id, @nom, @prenom;\n-- Parcourir les lignes\nWHILE @@FETCH_STATUS = 0\n    BEGIN\n        -- Traiter les donn\xe9es puis fetch ligne suivante\n        PRINT CONCAT('client n\xb0', @id, ' : ', @prenom, ' ', @nom);\n        FETCH NEXT FROM cClients INTO @id, @nom, @prenom;\n    END\n\n-- Fermer le curseur\nCLOSE cClients;\n-- Lib\xe9rer le curseur\nDEALLOCATE cClients;\n"})}),"\n",(0,l.jsx)(n.h4,{id:"clause-for-update",children:"Clause FOR UPDATE"}),"\n",(0,l.jsx)(n.p,{children:"Au moment de la d\xe9claration du curseur. Pose des verrous."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"DECLARE cFiches CURSOR FOR\nSELECT noFic, etat FROM Fiches WHERE etat = 'EC' FOR UPDATE OF etat;\n"})}),"\n",(0,l.jsx)(n.h4,{id:"clause-current-of",children:"Clause CURRENT OF"}),"\n",(0,l.jsx)(n.p,{children:"Indique la ligne point\xe9e par le curseur. Dans la restriction d\u2019une instruction UPDATE ou DELETE."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"UPDATE Fiches SET etat = 'RE' WHERE CURRENT OF cFiches;\n"})}),"\n",(0,l.jsx)(n.h4,{id:"exemple-complet-de-curseur",children:"Exemple complet de Curseur"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"DECLARE cFiches CURSOR FOR SELECT noFic, etat FROM Fiches WHERE etat = 'EC' FOR UPDATE OF etat;\nDECLARE @noFic NUMERIC(6);\nDECLARE @etat CHAR(2);\nDECLARE @nbEC INT;\nOPEN cFiches;\nFETCH NEXT FROM cFiches INTO @noFic, @etat;\nWHILE @@FETCH_STATUS = 0\n BEGIN\nSELECT @nbEC = COUNT(*) FROM LignesFic WHERE noFic = @noFic AND retour IS NULL;\n PRINT CONCAT(@noFic, ' -> ', @nbEC);\n IF @nbEC = 0\nUPDATE Fiches SET etat = 'RE' WHERE CURRENT OF cFiches;\nFETCH NEXT FROM cFiches INTO @noFic, @etat;\n END\nCLOSE cFiches;\nDEALLOCATE cFiches;\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"mongodb",children:"MongoDB"}),"\n",(0,l.jsx)(n.h3,{id:"guide-des-op\xe9rateurs-mongodb",children:"Guide des Op\xe9rateurs (MongoDB)"}),"\n",(0,l.jsx)(n.h4,{id:"op\xe9rateurs-de-comparaison",children:"Op\xe9rateurs de Comparaison"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$eq (\xc9gal)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compare si une valeur est \xe9gale \xe0 une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve tous les utilisateurs de 25 ans\n\ndb.users.find({ age: { $eq: 25 } })\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$ne (Non \xc9gal)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compare si une valeur n'est pas \xe9gale \xe0 une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Trouve tous les produits qui ne sont pas inactifs\n\ndb.products.find({ status: { $ne: "inactive" } })\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$gt (Plus Grand Que)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compare si une valeur est sup\xe9rieure \xe0 une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve tous les produits plus chers que 100\u20ac\n\ndb.products.find({ price: { $gt: 100 } })\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$lt (Plus Petit Que)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compare si une valeur est inf\xe9rieure \xe0 une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve tous les utilisateurs mineurs\n\ndb.users.find({ age: { $lt: 18 } })\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$gte (Plus Grand ou \xc9gal)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compare si une valeur est sup\xe9rieure ou \xe9gale \xe0 une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve les produits avec un stock >= 10\n\ndb.products.find({ stock: { $gte: 10 } })\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$lte (Plus Petit ou \xc9gal)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compare si une valeur est inf\xe9rieure ou \xe9gale \xe0 une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve les produits avec un stock bas (\u2264 5)\n\ndb.products.find({ stock: { $lte: 5 } })\n"})}),"\n",(0,l.jsx)(n.h4,{id:"op\xe9rateurs-logiques",children:"Op\xe9rateurs Logiques"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$and\n"})}),"\n",(0,l.jsx)(n.p,{children:"Combine plusieurs conditions avec un ET logique."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve les produits chers ET en stock\n\ndb.products.find({\n\n    $and: [\n\n        { price: { $gt: 50 } },\n\n        { stock: { $gt: 0 } }\n\n    ]\n\n})\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$or\n"})}),"\n",(0,l.jsx)(n.p,{children:"Combine plusieurs conditions avec un OU logique."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Trouve les utilisateurs actifs OU admin\n\ndb.users.find({\n\n    $or: [\n\n        { status: "active" },\n\n        { role: "admin" }\n\n    ]\n\n})\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$not\n"})}),"\n",(0,l.jsx)(n.p,{children:"Inverse la condition sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve les utilisateurs qui ne sont pas mineurs\n\ndb.users.find({\n\n    age: { $not: { $lt: 18 } }\n\n})\n"})}),"\n",(0,l.jsx)(n.h4,{id:"op\xe9rateurs-de-tableau",children:"Op\xe9rateurs de Tableau"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$in\n"})}),"\n",(0,l.jsx)(n.p,{children:"V\xe9rifie si une valeur correspond \xe0 une des valeurs d'un tableau."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Trouve les produits dans certaines cat\xe9gories\n\ndb.products.find({\n\n    category: { $in: ["sport", "loisir"] }\n\n})\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$nin\n"})}),"\n",(0,l.jsx)(n.p,{children:"V\xe9rifie si une valeur ne correspond \xe0 aucune des valeurs d'un tableau."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Trouve les utilisateurs avec un statut ni bloqu\xe9 ni supprim\xe9\n\ndb.users.find({\n\n    status: { $nin: ["blocked", "deleted"] }\n\n})\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$all\n"})}),"\n",(0,l.jsx)(n.p,{children:"V\xe9rifie si un tableau contient tous les \xe9l\xe9ments sp\xe9cifi\xe9s."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Trouve les t\xe2ches marqu\xe9es urgent ET important\n\ndb.tasks.find({\n\n    tags: { $all: ["urgent", "important"] }\n\n})\n'})}),"\n",(0,l.jsx)(n.h4,{id:"op\xe9rateurs-dexistence",children:"Op\xe9rateurs d'Existence"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$exists\n"})}),"\n",(0,l.jsx)(n.p,{children:"V\xe9rifie si un champ existe."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Trouve les utilisateurs avec un email\n\ndb.users.find({\n\n    email: { $exists: true }\n\n})\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$type\n"})}),"\n",(0,l.jsx)(n.p,{children:"V\xe9rifie le type d'un champ."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Trouve les documents o\xf9 l\'\xe2ge est un nombre\n\ndb.users.find({\n\n    age: { $type: "number" }\n\n})\n'})}),"\n",(0,l.jsx)(n.h4,{id:"op\xe9rateurs-de-mise-\xe0-jour",children:"Op\xe9rateurs de Mise \xe0 Jour"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$set\n"})}),"\n",(0,l.jsx)(n.p,{children:"D\xe9finit une nouvelle valeur pour un champ."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Met \xe0 jour le statut d\'un utilisateur\n\ndb.users.updateOne(\n\n    { _id: userId },\n\n    { $set: { status: "active" } }\n\n)\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$unset\n"})}),"\n",(0,l.jsx)(n.p,{children:"Supprime un champ d'un document."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Supprime un champ temporaire\n\ndb.users.updateOne(\n\n    { _id: userId },\n\n    { $unset: { tempField: "" } }\n\n)\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$inc\n"})}),"\n",(0,l.jsx)(n.p,{children:"Incr\xe9mente un champ d'une valeur sp\xe9cifi\xe9e."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Incr\xe9mente un compteur\n\ndb.counters.updateOne(\n\n    { _id: counterId },\n\n    { $inc: { value: 1 } }\n\n)\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$push\n"})}),"\n",(0,l.jsx)(n.p,{children:"Ajoute un \xe9l\xe9ment \xe0 un tableau."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Ajoute un tag \xe0 un produit\n\ndb.products.updateOne(\n\n    { _id: productId },\n\n    { $push: { tags: "new" } }\n\n)\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"$pull\n"})}),"\n",(0,l.jsx)(n.p,{children:"Retire un \xe9l\xe9ment d'un tableau."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:'-- Retire une cat\xe9gorie d\'un produit\n\ndb.products.updateOne(\n\n    { _id: productId },\n\n    { $pull: { categories: "obsolete" } }\n\n)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"bonnes-pratiques",children:"Bonnes Pratiques"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Utilisez les index appropri\xe9s pour optimiser vos requ\xeates"}),"\n",(0,l.jsx)(n.li,{children:"Combinez les op\xe9rateurs pour des requ\xeates plus pr\xe9cises"}),"\n",(0,l.jsx)(n.li,{children:"Privil\xe9giez les op\xe9rateurs sp\xe9cifiques aux types de donn\xe9es"}),"\n",(0,l.jsx)(n.li,{children:"Testez vos requ\xeates sur un petit jeu de donn\xe9es avant la production"}),"\n",(0,l.jsx)(n.li,{children:"Utilisez la m\xe9thode explain() pour analyser les performances des requ\xeates"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"notes-importantes",children:"Notes Importantes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Les op\xe9rateurs commencent toujours par le symbole $"}),"\n",(0,l.jsx)(n.li,{children:"La casse est importante dans MongoDB"}),"\n",(0,l.jsx)(n.li,{children:"Les valeurs compar\xe9es doivent \xeatre du m\xeame type"}),"\n",(0,l.jsx)(n.li,{children:"Certains op\xe9rateurs peuvent \xeatre combin\xe9s"}),"\n",(0,l.jsx)(n.li,{children:"Les performances peuvent varier selon les op\xe9rateurs utilis\xe9s"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"firebase",children:"Firebase"}),"\n",(0,l.jsx)(n.h3,{id:"firebase--js",children:"Firebase & JS"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.em,{children:"Real Time Database"})," - Voir dans la console Firebase, la config du projet, pour l'impl\xe9mentation:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import { initializeApp } from '...' // CDN version (possible de faire avec npm: from \"firebase/app\")\nimport {\n    getDatabase,\n    ref,\n    push,\n    onValue,\n    remove\n} from \"https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js\"\n\n// Webapp Firebase config\nconst firebaseConfig = {\n    // apiKey: ...\n    // authDomain: ...\n    databaseURL: 'DATABASE_URL'\n    // projectId: ...\n    // storageBucket: ...\n    // messagingSenderId: ...\n    // appId: ...\n}\n\nconst app = initializeApp(firebaseConfig) // Init\nconst database = getDatabase(app) // DB\nconst referenceInDB = ref(database, \"leads\") // Cr\xe9er une r\xe9f\xe9rence de la DB en y passant la variable db et le nom de la ref\n\n// Envoyer des donn\xe9es\npush(referenceInDB, data)\n\n// R\xe9cup\xe9rer un snapshot des data en DB \xe0 chaque changement\nonValue(referenceInDB, function(snapshot) {\n    const snapshotDoesExist = snapshot.exists() // V\xe9rifier qu'il existe\n    if (snapshotDoesExist) {        // Eviter les erreurs\n        const snapshotValues = snapshot.val() // .val() pour obtenir l'objet qui contient la data\n        const leads = Object.values(snapshotValues) // Transforme l'Objet en Array + prend seulement les valeurs, pas les keys\n\n        // ... faire ce qu'on veut de la data\n    }\n})\n\n// Supprime ! TOUTES ! les data de la r\xe9f\xe9rence\nremove(referenceInDB) // Attention, supprime le snap et entraine une erreur\n"})})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var r=s(6540);const l={},i=r.createContext(l);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);