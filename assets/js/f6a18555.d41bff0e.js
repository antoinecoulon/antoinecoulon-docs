"use strict";(self.webpackChunkantoinecoulon_docs=self.webpackChunkantoinecoulon_docs||[]).push([[5146],{924:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var a=t(8368),s=t(4848),o=t(8453);const i={slug:"tuto-game-database",title:"R\xe9aliser un projet avec React.js, Express.js, Vite, TailwindCSS",authors:["antoine"],tags:["learn"]},r=void 0,l={authorsImageUrls:[void 0]},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Tech Stack",id:"tech-stack",level:2},{value:"What is Node.js and Why Do We Need it?",id:"what-is-nodejs-and-why-do-we-need-it",level:2},{value:"How to Set up React with Vite",id:"how-to-set-up-react-with-vite",level:2},{value:"What is Tailwind and Why Do We Need it?",id:"what-is-tailwind-and-why-do-we-need-it",level:2},{value:"How to Set Up Tailwind",id:"how-to-set-up-tailwind",level:2},{value:"What is The RAWG API and Why Do We Need it?",id:"what-is-the-rawg-api-and-why-do-we-need-it",level:2},{value:"What to do if You Can\u2019t Get an API Key?",id:"what-to-do-if-you-cant-get-an-api-key",level:2},{value:"Why Do We Need a Backend?",id:"why-do-we-need-a-backend",level:2},{value:"How to Set Up Our Backend",id:"how-to-set-up-our-backend",level:2},{value:"Installing Dependencies",id:"installing-dependencies",level:2},{value:"Setting our API Key as an Environment Variable",id:"setting-our-api-key-as-an-environment-variable",level:2},{value:"How to Get The Project\u2019s Assets",id:"how-to-get-the-projects-assets",level:2},{value:"How is React Initialized in Our Project?",id:"how-is-react-initialized-in-our-project",level:2},{value:"What are React Components?",id:"what-are-react-components",level:2},{value:"React VS React-DOM",id:"react-vs-react-dom",level:2},{value:"Making Our First React Component",id:"making-our-first-react-component",level:2},{value:"Creating The Search Component",id:"creating-the-search-component",level:2},{value:"What Are Props in React?",id:"what-are-props-in-react",level:2},{value:"What Are Hooks in React?",id:"what-are-hooks-in-react",level:2},{value:"Setting Up Express",id:"setting-up-express",level:2},{value:"Defining The /api/games Route",id:"defining-the-apigames-route",level:2},{value:"Fetching Search Data on The Frontend",id:"fetching-search-data-on-the-frontend",level:2},{value:"What is The useEffect Hook and How it Works?",id:"what-is-the-useeffect-hook-and-how-it-works",level:2},{value:"How is Data Fetched With useEffect?",id:"how-is-data-fetched-with-useeffect",level:2},{value:"Creating a Custom Hook",id:"creating-a-custom-hook",level:2},{value:"Creating The Game Card Component",id:"creating-the-game-card-component",level:2},{value:"Conditional Rendering in React",id:"conditional-rendering-in-react",level:2},{value:"How to Render Lists in React",id:"how-to-render-lists-in-react",level:2},{value:"Rendering a List of Game Cards",id:"rendering-a-list-of-game-cards",level:2},{value:"Handling Edge Cases and Improving The User Experience",id:"handling-edge-cases-and-improving-the-user-experience",level:2},{value:"Displaying Error Messages in The UI",id:"displaying-error-messages-in-the-ui",level:2},{value:"Adding a Loading Spinner",id:"adding-a-loading-spinner",level:2},{value:"Building The Game Details Component",id:"building-the-game-details-component",level:2},{value:"Creating a New API Endpoint to Fetch More Data",id:"creating-a-new-api-endpoint-to-fetch-more-data",level:2},{value:"Rendering The Game Details Component",id:"rendering-the-game-details-component",level:2},{value:"Creating The Screenshot Carousel",id:"creating-the-screenshot-carousel",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"React is the most popular JavaScript \u201clibrary\u201d for building Web user interfaces. In this tutorial, I\u2019ll teach the basics of React by building an app for searching games you might be interested in buying. I called it the Game Database. While this project is simple, it will teach you a lot about React and modern web development."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Screenshot",src:t(4662).A+"",width:"1272",height:"658"})}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"To follow this tutorial, you need to already know and have built projects with HTML, CSS, JavaScript and have basic knowledge of backend development (i.e You know what a REST API is). I also assume that you know how to use the terminal and a code editor like VSCode. Knowing how to work with Git is expected even if it\u2019s not the focus of this tutorial."}),"\n",(0,s.jsx)(n.h2,{id:"tech-stack",children:"Tech Stack"}),"\n",(0,s.jsx)(n.p,{children:"While this tutorial is about using React, we will use other tools alongside it. You do not need to be familiar with them as I\u2019ll explain how they work during the tutorial."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tailwind CSS : An easier way to write CSS to make our website look good."}),"\n",(0,s.jsx)(n.li,{children:"Node.js and Vite : So that our React code can be converted to JavaScript code that can run in the browser."}),"\n",(0,s.jsx)(n.li,{children:"RAWG API : This is an API for getting game related data. You can get a free API key here."}),"\n",(0,s.jsx)(n.li,{children:"Express.js : A Node.js web framework, This is so we can make a small backend that will serve as a proxy for getting data from the RAWG API. This is so we don\u2019t leak our API key."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"what-is-nodejs-and-why-do-we-need-it",children:"What is Node.js and Why Do We Need it?"}),"\n",(0,s.jsx)(n.p,{children:"To setup our project, we first need Node.js. For those unfamiliar, Node is a runtime environment that let\u2019s you run JavaScript code outside of the browser. Originally, JavaScript could only run within a web page within a browser but when Node was created, it enabled JavaScript to be used directly on your computer like for example Python."}),"\n",(0,s.jsx)(n.p,{children:"This enabled, JS to be used for backend development as well."}),"\n",(0,s.jsx)(n.p,{children:"Because JS was no longer constrainted by the browser, JavaScript with extra features started to emerge as people wanted certain features not yet included in browsers. This led to the creation of JSX which is the ability of writing HTML within JavaScript."}),"\n",(0,s.jsx)(n.p,{children:"While this syntax is not valid in vanilla JS, developers would use build tools like Vite that would compile (or \u201ctranspile\u201d) their Node.js JavaScript into JavaScript that runs in the browser."}),"\n",(0,s.jsx)(n.p,{children:"To be more efficent, these build tools would also minify your code which consisted in compiling your multi-file JavaScript codebase into a single JavaScript file that looks like gibberish (or obfuscated) that would load faster in the browser since you would only needed to load a single file."}),"\n",(0,s.jsx)(n.p,{children:"With Node.js also came NPM (The Node Package Manager) allowing programmers to install JavaScript libraries using the command line like you would do in other programming languages. Prior to this, you had to download a .js file for the library and import it using a script tag in your HTML."}),"\n",(0,s.jsx)(n.p,{children:"All this to say, that we\u2019re going to use Node.js to install React using NPM and use a build tool called Vite to transpile our React code which uses JSX (HTML that can be written within JS) into JS that runs in the browser."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-set-up-react-with-vite",children:"How to Set up React with Vite"}),"\n",(0,s.jsx)(n.p,{children:"First you need to install Node.js. If you don\u2019t have it already, you can get it here. Installing Node.js will also install NPM which is crucial for installing React but also using the build tool Vite."}),"\n",(0,s.jsx)(n.p,{children:"Now, create an empty folder which is going to contain the project. Using a terminal, navigate to this folder. Run the command :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm create vite@latest .\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will use the latest version of vite to create your project and adding the . in the end will tell it to create the project within the current folder you\u2019re in."}),"\n",(0,s.jsx)(n.p,{children:"You\u2019ll be prompted to select a framework, choose React and proceed. You\u2019ll then be prompted to choose between JavaScript or TypeScript, select plain JavaScript since we\u2019ll use JavaScript for this project."}),"\n",(0,s.jsx)(n.p,{children:"Vite is now going to add a bunch of files in your project\u2019s folder. You should have the following structure :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"game-database (or name of the folder you decided to use)\n|- node_modules\n|- public\n    - vite.svg\n|- src\n    - assets\n    - App.css\n    - App.jsx\n    - index.css\n    - main.jsx\n|- .gitignore\n|- eslint.config.js\n|- index.html\n|- package-lock.json\n|- package.json\n|- README.md\n|- vite.config.js\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once done, you\u2019ll be told to run the following commands :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Done. Now run:\n\n  npm install\n  npm run dev\n"})}),"\n",(0,s.jsx)(n.p,{children:"The first command installs the dependencies specified in a file called package.json which was created when vite scaffolded your project."}),"\n",(0,s.jsx)(n.p,{children:"This file is very important since it keeps tracks of which versions of libraries your project depends on. If someone else where to set up your project on their machine, they would simply need to run npm install and they would get the right dependencies installed in their node_modules folder allowing them to have a working copy of your project."}),"\n",(0,s.jsx)(n.p,{children:"Now if you run npm run dev you\u2019ll start a local development server from which you can access your React app."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"VITE v6.2.2  ready in 184 ms\n\n  \u279c  Local:   http://localhost:5173/\n  \u279c  Network: use --host to expose\n  \u279c  press h + enter to show help\n"})}),"\n",(0,s.jsx)(n.h2,{id:"what-is-tailwind-and-why-do-we-need-it",children:"What is Tailwind and Why Do We Need it?"}),"\n",(0,s.jsx)(n.p,{children:"To make a website look good it\u2019s essential to style it with CSS. However, there is a library called Tailwind which makes this easier than using regular CSS."}),"\n",(0,s.jsx)(n.p,{children:"The way it works is that Tailwind offers a bunch of premade CSS classes that you use to style your HTML elements. For example :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div class="w-full p-2 mt-4">\n   Hello Tailwind!\n</div>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Here we\u2019re styling a div using the following Tailwind CSS classes : w-full, p-2 and mt-4."}),"\n",(0,s.jsx)(n.p,{children:"w-full makes the element take the full available width within its parent."}),"\n",(0,s.jsx)(n.p,{children:"p-2 adds a horizontal and vertical padding of 2 units (defined by Tailwind to be responsive so you don\u2019t have to know what the unit actually is)."}),"\n",(0,s.jsx)(n.p,{children:"mt-4 adds a margin top of 4 units."}),"\n",(0,s.jsx)(n.p,{children:"As you can see a lot of Tailwind CSS classes are straight up concepts from CSS. Even thought it might seem daunting to have to learn specific class names, most of the time you can figure the names out using your existing knowledge of CSS. When you can\u2019t, the official docs are easy to navigate, so you can quickly find out what you need."}),"\n",(0,s.jsx)(n.p,{children:"Another advantage of having styles defined this way, is that you can have an idea of what the element will look like by just looking in one place, the HTML. This makes it easy to iterate on your styles so you can achieve the look you want for your UI."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-set-up-tailwind",children:"How to Set Up Tailwind"}),"\n",(0,s.jsx)(n.p,{children:"Since Tailwind v4, setting it up has become way easier."}),"\n",(0,s.jsx)(n.p,{children:"Open up a new terminal or simply close the web server started previously (You can do so with Ctrl+C) and run the following command :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install tailwindcss @tailwindcss/vite\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once done, you\u2019ll have tailwind installed but for it to actually work in your project, you\u2019ll need to modify your vite.config.js file so it includes Tailwind."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import { defineConfig } from "vite";\nimport react from "@vitejs/plugin-react"; // <-- added\nimport tailwindcss from "@tailwindcss/vite"; //<-- added\n\n// https://vite.dev/config/\nexport default defineConfig({\n  plugins: [react(), tailwindcss()], // <-- added\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"Finally, go to your index.css file located under the src folder. Remove everything in it and add the following :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:'@import "tailwindcss";\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now, Tailwind should be properly installed and is ready to be used."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-the-rawg-api-and-why-do-we-need-it",children:"What is The RAWG API and Why Do We Need it?"}),"\n",(0,s.jsx)(n.p,{children:"RAWG is a video game database and they offer an API you can use for free but you need an API key. You can get one here after having first created an account on their platform. It\u2019s free and you have a limit of 20000 requests per month."}),"\n",(0,s.jsx)(n.p,{children:"As a heads up, you might be prompted to provide a domain for your product using their API before they give you access. If you don\u2019t have one, simply provide the link to a GitHub repository were you plan on putting the source code for this tutorial or give the link of your GitHub account page. I did the latter and it worked."}),"\n",(0,s.jsx)(n.p,{children:"In the end, you should have access to the API key under a page that looks like this."}),"\n",(0,s.jsx)(n.h2,{id:"what-to-do-if-you-cant-get-an-api-key",children:"What to do if You Can\u2019t Get an API Key?"}),"\n",(0,s.jsx)(n.p,{children:"In the case where for some reason you can not get access to an API key, you could still follow this tutorial by making made up data in the backend of our app."}),"\n",(0,s.jsx)(n.h2,{id:"why-do-we-need-a-backend",children:"Why Do We Need a Backend?"}),"\n",(0,s.jsx)(n.p,{children:"While this tutorial is focused mainly on the frontend by teaching you how to build the app in React, we will still need a backend for this project. However, this backend will just serve as a proxy for calling the RAWG API."}),"\n",(0,s.jsx)(n.p,{children:"You might be wondering, why don\u2019t we simply call the API directly from the frontend, storing our API key in an environment variable and calling it a day?"}),"\n",(0,s.jsx)(n.p,{children:"The reason is that there is no secure way of storing an API key on the frontend. Even if you use environment variables in for example, Vite. The reason is that when your app is built for production, Vite will just inject the API key in your code. Someone, can still access it by using the devtools tab of their browser."}),"\n",(0,s.jsx)(n.p,{children:"This might sound strange to some because a lot of tutorials on YouTube and elsewhere teach you to use environment variables client side to store your API key while mentioning that it\u2019s the secure way to do it. However, this is unfortunately a false notion."}),"\n",(0,s.jsx)(n.p,{children:"By having a small backend that acts as a proxy, we can call our backend from our frontend and let the backend call the RAWG API. Since the API key is store in the backend there will be no risks in having it leaked."}),"\n",(0,s.jsx)(n.p,{children:"To build this backend we will use the Express Node.js web framework. While the backend is not the focus of this tutorial, I will explain what you need to understand as we do it."}),"\n",(0,s.jsx)(n.p,{children:"For now let\u2019s set up our backend under a new folder."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-set-up-our-backend",children:"How to Set Up Our Backend"}),"\n",(0,s.jsx)(n.p,{children:"This backend will be in a different folder as an independent project outside of our React app. Once you have created the folder (you can name it how ever you\u2019d like. I named mine game-database-backend), cd into it with your terminal and run the command :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm init -y\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will create a package.json file containing your project\u2019s metadata. It should have the following content."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "game-databse-backend",\n  "version": "1.0.0",\n  "main": "index.js",\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC",\n  "description": ""\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Before we can start installing the relevant dependencies, you need to add the following property to our package.json file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "game-databse-backend",\n  "version": "1.0.0",\n  "main": "index.js",\n  "type": "module", // <-- add this line!\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC",\n  "description": ""\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Here we\u2019re setting the type of imports to be of the type \u201cmodule\u201d. The reason we\u2019re doing this is that in Node.js, we used to import libraries using the following syntax :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const libraryA = require("libraryA"); \n'})}),"\n",(0,s.jsx)(n.p,{children:"This way of importing is called CommonJS. It was originally created when JavaScript didn\u2019t have syntax to import libraries since at the time, you could only import libraries by adding a script tag to your HTML. When Node.js was created along with NPM, they needed a new syntax to import libraries using a single line. That\u2019s why CommonJS was created."}),"\n",(0,s.jsx)(n.p,{children:"As JavaScript in the browser evolved, they standardized on the ES Module syntax which looks like the following and works natively in browsers."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import libraryA from "libraryA";\n'})}),"\n",(0,s.jsx)(n.p,{children:"To be able to use this syntax in Node (since it\u2019s not yet the standard in Node but is in browsers), you need to set the type to \u201cmodule\u201d."}),"\n",(0,s.jsx)(n.p,{children:"You might have noticed in the package.json file, a property named \u201cmain\u201d. This is where you specify what file is going to be the entry point of your codebase. By default it\u2019s index.js. As you might notice, we don\u2019t have an index.js file in our codebase yet so we need to create it. Leave it empty for now, we will fill it with code later on."}),"\n",(0,s.jsx)(n.h2,{id:"installing-dependencies",children:"Installing Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Now we need to install a few dependencies we need to create our backend. Run the following command to install all of them at once."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install express cors dotenv express-rate-limit node-fetch\n"})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s go over each dependency to understand why they\u2019re needed."}),"\n",(0,s.jsx)(n.p,{children:"Express : This is a minimalist web framework allowing us to set up routes we can call from our Frontend. Essentially making our own API."}),"\n",(0,s.jsx)(n.p,{children:"Cors : To be used with Express, it enables us to only allow requests from our frontend\u2019s domain. Preventing other websites from calling our backend."}),"\n",(0,s.jsx)(n.p,{children:"Dotenv : A dependency that allows Node.js to read environment variables."}),"\n",(0,s.jsx)(n.p,{children:"Express-Rate-Limit : This enables us to protect our backend from DDoS attacks by limiting the number of requests a single client can make at once."}),"\n",(0,s.jsx)(n.p,{children:"Node-fetch : Allows us to make requests to the RAWG API from our backend."}),"\n",(0,s.jsx)(n.h2,{id:"setting-our-api-key-as-an-environment-variable",children:"Setting our API Key as an Environment Variable"}),"\n",(0,s.jsx)(n.p,{children:"Environment variable are useful because they allow you to provide secrets to your codebase without having to write it plainly in your code. This prevents leakage of secrets as well as allowing you to swap them in and out easily."}),"\n",(0,s.jsx)(n.p,{children:"Since we\u2019re currently setting up our backend. Create a .env file, with the following content. This is where you need to put your API key. The other fields aren\u2019t important for now. We will come back to this later."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"API_KEY=<Replace with your API key>\nCLIENT_DOMAIN=<Replace with the client's domain for example : http://localhost:5173>\nPORT=3000\n"})}),"\n",(0,s.jsx)(n.p,{children:"Before proceeding, you absolutely need to create a .gitignore file and write .env in it. This is very important so that the Git version control system ignores your env file and doesn\u2019t commit it to your repo. If you forget to do this, you might leak your API key in your source code when you\u2019ll push it on, for example, GitHub."}),"\n",(0,s.jsx)(n.p,{children:"You also need to write node_modules in it as it can clutter your commit history pretty quickly and anyways, the user pulling your code will have their own node_modules folder created when they run the command npm install."}),"\n",(0,s.jsx)(n.p,{children:"We\u2019re now ready to move on."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-get-the-projects-assets",children:"How to Get The Project\u2019s Assets"}),"\n",(0,s.jsxs)(n.p,{children:["To make the website look good, I used a couple of images for icons, logos and for the site\u2019s background. You can get all the assets I used for this project ",(0,s.jsx)(n.a,{href:"https://github.com/JSLegendDev/Game-Database-Frontend/tree/main/public",children:"here"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"In your frontend repo, place the assets linked above in your public folder."}),"\n",(0,s.jsx)(n.p,{children:"We\u2019re ready to start working on the search page of the app which is the main page of the application."}),"\n",(0,s.jsx)(n.p,{children:"In that page, the user should be able to use the search bar to search for a given game title or franchise and the app should call our backend which will call the RAWG API to retrieve a list of relevant games. Then, the app should display those games as cards containing a cover, a title, genres and how long it takes to beat the game if that data is available."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"how-is-react-initialized-in-our-project",children:"How is React Initialized in Our Project?"}),"\n",(0,s.jsx)(n.p,{children:"If you look at your src folder, you should have the following files."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"src\n|- assets\n|- App.css\n|- App.jsx\n|- index.css\n|- main.jsx\n"})}),"\n",(0,s.jsx)(n.p,{children:"Before we write any code, let\u2019s remove the assets folder and the App.css file. We don\u2019t need these two. Since we\u2019re using Tailwind, the only place we need for CSS is the index.css file."}),"\n",(0,s.jsx)(n.p,{children:"Now let\u2019s take a look at main.jsx."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App.jsx'\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"For React to be used in a webpage, it needs to inject the content of your app within your HTML. To be more precise, we first need to create a root within your index.html file from which your React app will be rendered."}),"\n",(0,s.jsx)(n.p,{children:"If you take a look at your index.html file at the root of your project\u2019s folder. You will notice the presence of a div with an id of \u201croot\u201d. This was added automatically by Vite."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <link rel="icon" type="image/svg+xml" href="/vite.svg" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Vite + React</title>\n  </head>\n  <body>\n    <div id="root"></div>\n    <script type="module" src="/src/main.jsx"><\/script>\n  </body>\n</html>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Looking back at our React code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"createRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"We can see that to inject our React app within the div having the id \u201croot\u201d we pass that div as a param of the createRoot function. It then creates an object that has a method called render . We immediately call it to pass our main React component called App wrapped under StrictMode (which adds useful behaviors to more easily find bugs)."}),"\n",(0,s.jsx)(n.h2,{id:"what-are-react-components",children:"What are React Components?"}),"\n",(0,s.jsx)(n.p,{children:"The component is the main building block when working in React. It allows you to build UIs in a modular fashion allowing you to reuse components in multiple places. It also allows you to manage complexity by placing logic specific to a component within it."}),"\n",(0,s.jsx)(n.p,{children:"At a basic level, a React component is just a JavaScript function that returns some JSX. Which, if you remember, is syntax that looks like HTML that you can write within JavaScript in a .jsx file."}),"\n",(0,s.jsx)(n.p,{children:"Here is an example!"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function App(){ \n  return (\n    <div>\n      <h1>Hello World!</h1>\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"We have a React component that returns a div containing an h1 tag with the content \u201cHello World!\u201d. You will surely notice that we defined this component by defining a function with its name\u2019s first letter capitalized. The convention when defining React components is to use the PascalCase notation rather than the usual camelCase."}),"\n",(0,s.jsx)(n.p,{children:"Another thing that makes components really useful in React is that you can place React components within React components, enabling a modular approach to building UIs. Here\u2019s another example."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function Card() {\n  return <section>This is a card</section>\n}\n\nfunction App() {\n  return (\n    <div>\n      <h1>Results</h1>\n      <div>\n        <Card />\n      </div>\n    </div>\n  )\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"As you can see, to place a component within another you can use the self closing tag notation you\u2019re used to from HTML along with the name of that component."}),"\n",(0,s.jsx)(n.h2,{id:"react-vs-react-dom",children:"React VS React-DOM"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\n"})}),"\n",(0,s.jsx)(n.p,{children:"Looking back at the import statements we had in main.jsx. You\u2019ll notice that we\u2019re importing things from both react and react-dom. You might be wondering why they are separate entities?"}),"\n",(0,s.jsx)(n.p,{children:"React is the library that allows us to build UIs using reusable blocks called components that return JSX. React-DOM on the other hand is the one taking care of rendering React components on the DOM (Document Object Model) of the webpage."}),"\n",(0,s.jsx)(n.p,{children:"That\u2019s why createRoot is imported from react-dom and not react since it\u2019s used to render to the DOM with the render method. The reason for this split is that React can be used outside of the web. For example, it can be used for mobile development with React Native. Instead of the JSX being translated to HTML elements that are rendered on a webpage, they\u2019re are translated to native mobile UI elements instead."}),"\n",(0,s.jsx)(n.p,{children:"In addition to React being used for mobile UIs, it can also be used to make pdfs with react-pdf."}),"\n",(0,s.jsx)(n.h2,{id:"making-our-first-react-component",children:"Making Our First React Component"}),"\n",(0,s.jsx)(n.p,{children:"Now that you understand how components work, let\u2019s define our first component, the App component."}),"\n",(0,s.jsx)(n.p,{children:"If you take a look at main.jsx again, you\u2019ll notice that we\u2019re already importing this component from a file called App.jsx."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App.jsx' // <--\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s start from scratch by deleting everything in the existing App.jsx file and adding the following code which will display the app\u2019s name and logo."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function App() {\n  return (\n    <main className="w-full p-2 flex flex-col items-center">\n      <div className="flex items-center">\n        <h1>Game Database</h1>\n        <img src="./logo.png" className="w-25 h-25" />\n      </div>\n    </main>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"The main tag will contain all of the content of the search page. We define it as a flex container with a direction set to column. We then center the content within that main tag along the cross axis of the container using items-center. Below is a schematic displaying how the axis are defined according to the direction of the flex container. Remember that using items-center will center the content of the flex container along the cross axis while justify-center will center its content along the main axis."}),"\n",(0,s.jsx)(n.p,{children:"We then make the main tag take the full available width of the page using w-full and give it a padding of 2 with p-2. All of the styling explained above is succinctly described in Tailwind by passing the needed class names to the className property of the JSX element."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<main className="w-full p-2 flex flex-col items-center">\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now, you might be wondering why is it className instead of class that you\u2019re accustomed to in HTML? The reason is that there is a difference in how the attribute is named in HTML vs the DOM which the underlying model representing a webpage. Since React operates on the DOM it was chosen to use className instead class which is what the DOM uses."}),"\n",(0,s.jsx)(n.p,{children:"Now within the main tag, we define a div which will hold the app\u2019s name and logo."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div className="flex items-center">\n  <h1>Game Database</h1>\n  <img src="./logo.png" className="w-25 h-25" />\n</div>\n'})}),"\n",(0,s.jsx)(n.p,{children:"This div is set as a flex container with the direction set to row by default, so we don\u2019t need to specify it. We center its content along the cross axis so that the app\u2019s title and logo are near each other at the center."}),"\n",(0,s.jsx)(n.p,{children:"We then use an img tag to display the logo. You might have noticed that the path to the image does not contain the public folder despite the image being in that folder. That\u2019s because Vite will automatically make whatever is in the public folder as if it was available from the root of the project, so you do not need to specify the public folder in the path."}),"\n",(0,s.jsx)(n.p,{children:"Finally w-25 and h-25 sets the size of the logo using units defined by Tailwind which are responsive."}),"\n",(0,s.jsx)(n.p,{children:"If you now start a development server using the command npm run dev in your terminal, you should get the following result."}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s makes things prettier before moving on. In index.html add the following Tailwind classes to the body tag."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"<body class=\"bg-gray-950 bg-[url('./background.png')] bg-repeat\">\n"})}),"\n",(0,s.jsx)(n.p,{children:"We\u2019re setting the background color to be of gray-950 which is a color predefined by Tailwind that is near black. We then set the background image and set it to repeat so that it tiles indefinitely making the image cover the page regardless of the size of the viewport."}),"\n",(0,s.jsx)(n.p,{children:"You should have the following result."}),"\n",(0,s.jsx)(n.p,{children:"As you can see the app\u2019s name near the logo is not visible. To fix the issue, let\u2019s add a nice looking gradient to it. To showcase how you can create custom classes composed of Tailwind classes, let\u2019s add the following in our index.css file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:".text-gradient {\n  @apply bg-linear-to-r from-[#5c2bd9] via-[#fb6e6e] to-[#ffe137] bg-clip-text text-transparent;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"The key here is to use the @apply directive and then use the Tailwind classes you need."}),"\n",(0,s.jsx)(n.p,{children:"If you go back to our React component and apply the custom Tailwind class we created along with a few other Tailwind classes, you should get the following result."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<h1 className="text-gradient text-4xl font-bold">Game Database</h1>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"creating-the-search-component",children:"Creating The Search Component"}),"\n",(0,s.jsx)(n.p,{children:"In the previous section we created our main React component acting as the entrypoint of our UI. However, we need to define more than just one component in our app. To keep things organized, let\u2019s create a components folder under the src folder. Within, let\u2019s define our next component, the Search component by creating a Search.jsx file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"src\n|- components\n|    |- Search.jsx\n|- App.jsx\n|- main.jsx\n|- index.css\n"})}),"\n",(0,s.jsx)(n.p,{children:"Add the following code in Search.jsx."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function Search({ query, onChange }) {\n  return (\n    <div className="w-full mb-4">\n      <div className="flex my-2 rounded-md shadow-xl bg-gray-800 p-4">\n        <img\n          className="relative top-0.5 h-5 w-5"\n          src="./search.svg"\n          alt="search"\n        />\n        <input\n          className="w-full focus:outline-none ml-2 text-gray-300"\n          type="text"\n          placeholder="Search a game"\n          value={query}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"The Search component is essentially a search bar. You\u2019ll probably notice that we have params that are passed to this component. These are called props. It\u2019s another one of React\u2019s major concepts."}),"\n",(0,s.jsx)(n.h2,{id:"what-are-props-in-react",children:"What Are Props in React?"}),"\n",(0,s.jsx)(n.p,{children:"What makes components flexible in React is the ability to pass props to them to change how they\u2019re rendered. This makes components usable in more than just one screen or one place in the app."}),"\n",(0,s.jsx)(n.p,{children:"You can view props the same way as params that you pass to a function."}),"\n",(0,s.jsx)(n.p,{children:"Here is a basic example of how props are used in React."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'function Title(props) {\n  return <h1>{props.name}</h1>;\n}\n\nfunction App() {\n  return (\n     <div>\n       <Title name="Hello World" />\n     </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"To pass props to a component you can simply start adding arbitrary attributes to where you call this component. In the example above, I decided to use an attribute called \u201cname\u201d that is then available under the props object where the component is defined. That\u2019s why I can do props.name and get access to \u201cHello World\u201d."}),"\n",(0,s.jsx)(n.p,{children:"You might have noticed that we use curly braces when putting prop.name within the h1 tag. This is important, so that the actual value, \u201cHello World\u201d is what\u2019s rendered rather than having literally \u201cprop.name\u201d displayed."}),"\n",(0,s.jsx)(n.p,{children:"A more convenient way of dealing with props is to use destructuring which is a JavaScript concept allowing us to directly get the properties we need."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function Title({name}) {\n  return <h1>{name}</h1>\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"So now, if I need more than one prop, I can do the following."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'function Title({name, subtitle}){\n  return (\n    <div>\n      <h1>{name}</h1>\n      <h2>{subtitle}</h2>  \n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <div>\n      <Title name="Hello World" subtitle="Hello World Again!" />\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now that you understand what props are and how they work, let\u2019s further analyze the code for the Search component."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function Search({ query, onChange }) {\n  return (\n    <div className="w-full mb-4">\n      <div className="flex my-2 rounded-md shadow-xl bg-gray-800 p-4">\n        <img\n          className="relative top-0.5 h-5 w-5"\n          src="./search.svg"\n          alt="search"\n        />\n        <input\n          className="w-full focus:outline-none ml-2 text-gray-300"\n          type="text"\n          placeholder="Search a game"\n          value={query}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Most of the Tailwind classes here are easy to understand if you already know CSS so I will not go over each of them. I would like however, to explain a few that may not be as straightforward to figure out :"}),"\n",(0,s.jsx)(n.p,{children:"mb-4 : Applies 4 units to the bottom margin of the element. If you had ml instead, it would be applied for margin left, mr for margin right, etc\u2026"}),"\n",(0,s.jsx)(n.p,{children:"my-2 : Applies 2 units to both the top and bottom margin of the element. Therefore, along the y axis. If you where to use mx, the left and right margins would be increased instead since they\u2019re along the x axis."}),"\n",(0,s.jsx)(n.p,{children:"Now let\u2019s take a look at the input element."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function Search({ query, onChange }) {\n  return (\n    {/* previous code omitted for clarity */}\n        <input\n          className="w-full focus:outline-none ml-2 text-gray-300"\n          type="text"\n          placeholder="Search a game"\n          value={query} <--\n          onChange={onChange} <--\n        />\n    {/* next code omitted for clarity */}\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"In React, the input attribute has two properties that are very useful."}),"\n",(0,s.jsx)(n.p,{children:"The value attribute allowing us to set the value inside the field."}),"\n",(0,s.jsx)(n.p,{children:"The onChange attribute which takes a function and will run it every time the user types in the field. Which also allows us the get what was typed."}),"\n",(0,s.jsx)(n.p,{children:"We pass to these two attributes the query and onChange props we defined for the Search component. Now, go back to App.jsx and add the following code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useState } from "react";\nimport Search from "./components/Search";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState("");\n\n  return (\n    <main className="w-full p-2 flex flex-col items-center">\n      {/* previous code omitted for clarity */}\n      <div className="w-full max-w-4xl">\n        <Search\n          query={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n      </div>\n    </main>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"What is this useState function we\u2019re using? It\u2019s called a hook and hooks are another one of React\u2019s major concepts."}),"\n",(0,s.jsx)(n.h2,{id:"what-are-hooks-in-react",children:"What Are Hooks in React?"}),"\n",(0,s.jsx)(n.p,{children:"Hooks let you use different React features from your components. You can either use the built-in hooks or combine them to build your own."}),"\n",(0,s.jsx)(n.p,{children:"The useState Hook"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'const [searchQuery, setSearchQuery] = useState("");\n'})}),"\n",(0,s.jsx)(n.p,{children:"Here in particular, we\u2019re using a state hook to set a state variable with the goal of holding the user\u2019s search query and to update the UI when it changes."}),"\n",(0,s.jsx)(n.p,{children:"From React\u2019s docs, the usefulness of the useState hook is made apparent."}),"\n",(0,s.jsx)(n.p,{children:"To update a component with new data, two things need to happen:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Retain the data between renders."}),"\n",(0,s.jsx)(n.li,{children:"Trigger React to render the component with new data (re-rendering)."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Creating a state variable using the useState hook allows us to achieve both."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"A state variable to retain the data between renders."}),"\n",(0,s.jsx)(n.li,{children:"A state setter function to update the variable and trigger React to render the component again."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In our case, searchQuery is the state variable and setSearchQuery is the state setter function. Finally, we pass within useState() the default state value we want to use."}),"\n",(0,s.jsx)(n.p,{children:"When creating a state variable here is the convention that is usually adopted."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"const [nameOfTheVariable, setNameOfTheVariable] = useState(<default value. can be a number, null, a string, etc...>);\n"})}),"\n",(0,s.jsx)(n.p,{children:"What makes React convenient for building UIs rather than using vanilla JS is that you don\u2019t need to manual update the UI by changing the content of various HTML nodes. As we saw above, by using a state variable, React will take care of updating the UI automatically when the state variable changes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"<Search\n  query={searchQuery}\n  onChange={(e) => setSearchQuery(e.target.value)}\n/>\n"})}),"\n",(0,s.jsx)(n.p,{children:"By passing an onChange function that calls the state setter function setSearchQuery and passing to it the value of what was typed using e.target.value, we update the searchQuery state variable."}),"\n",(0,s.jsx)(n.p,{children:"Since we\u2019re also passing the searchQuery state variable to the Search component, React will re-render the component everytime it\u2019s changed."}),"\n",(0,s.jsx)(n.p,{children:"We could have defined the state variable within the Search component but it\u2019s better to do it in the App component instead. This is a better approach because we need to have access to searchQuery so that we can pass it to our backend and make the RAWG API call to get relevant search results."}),"\n",(0,s.jsx)(n.p,{children:"Now that the search bar is completed, let\u2019s do some backend work to be able to query the RAWG API so it can provide the data we need."}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-express",children:"Setting Up Express"}),"\n",(0,s.jsx)(n.p,{children:"In your backend repo, add the following code to your index.js file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'import express from "express";\nimport cors from "cors";\nimport rateLimit from "express-rate-limit";\nimport fetch from "node-fetch";\nimport dotenv from "dotenv";\n\ndotenv.config(); \n\nconst API_KEY = process.env.API_KEY;\nif (!API_KEY) {\n  throw new Error("API key not found in environment variables");\n}\nconst app = express();\n\nconst corsOptions = {\n  origin: process.env.CLIENT_DOMAIN,\n  allowedHeaders: ["Content-Type", "Authorization"],\n};\n\napp.use(cors(corsOptions));\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // Limit each IP to 100 requests per windowMs\n  message: "Too many requests from this IP, please try again later.",\n});\n\n// Apply rate limiting to all API requests\napp.use(limiter);\n'})}),"\n",(0,s.jsx)(n.p,{children:"We first import all the needed packages. I explained why we needed each of them in part 1 of this tutorial. Refer to it here."}),"\n",(0,s.jsxs)(n.p,{children:["We then call dotenv.config() to load our environment variables. We can then access them using ",(0,s.jsx)(n.code,{children:"process.env.<nameofthevariable>"})]}),"\n",(0,s.jsx)(n.p,{children:"We intialize the express web framework which is the core of our backend and pass it to a const called app."}),"\n",(0,s.jsx)(n.p,{children:"We then set our CORS (stands for Cross Origin Resource Sharing) options which allows us to only authorized requests coming from the domain of our frontend. One thing to know about CORS is that it\u2019s only enforced through the web browser. That means, a mobile app could still make requests to our backend despite the options we set. Learn more about CORS here."}),"\n",(0,s.jsx)(n.p,{children:"Using app.use(cors(corsOptions)), we apply the CORS options to our Express app."}),"\n",(0,s.jsx)(n.p,{children:"Finally we set up our rate limiter preventing potential DDoS attacks where a client makes too many requests in order to take down our backend."}),"\n",(0,s.jsx)(n.p,{children:"To make our backend actually do something let\u2019s add the following code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.get("/api/games", async (req, res) => {\n    // TODO\n});\n\nconst port = process.env.PORT || 3000;\napp.listen(port, () => {\n  console.log(`Server is running on port ${port}`);\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"We define our first route that the client will be able to call and then make the Express app run by using app.listen."}),"\n",(0,s.jsx)(n.h2,{id:"defining-the-apigames-route",children:"Defining The /api/games Route"}),"\n",(0,s.jsx)(n.p,{children:"We want this route to return a list of games that matches the query passed by the client."}),"\n",(0,s.jsx)(n.p,{children:"In Express, a route is defined this way."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.get("/api/games", async (req, res) => {\n    // TODO\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"Here we\u2019re using a GET route since we\u2019re not modifying a resource, we\u2019re just requesting it. The first param is the route path we want to use, while the second param contains the function that\u2019s going to run when the request is made. req.query will contain the query of the client. Clientside, the query will be passed as a param to the route path. Here\u2019s an example."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"/api/games?search=Zelda\nWill result in req.query containing {search: \u201cZelda\u201d}.\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now let\u2019s continue by filling out the logic for the route."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.get("/api/games", async (req, res) => {\n  const { search: searchQuery } = req.query;\n \n  try {\n    const response = await fetch(\n      `https://api.rawg.io/api/games?key=${API_KEY}&search=${searchQuery}`,\n      {\n        method: "GET",\n        headers: {\n          //Authorization: `Bearer ${API_KEY}`, some APIs requires using the authorization header but not this one\n          "Content-Type": "application/json",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      return res\n      .status(500)\n      .json({ error: "Failed to fetch data from external API" });\n    }\n\n    const data = await response.json();\n    return res.json(data);\n\n  } catch (error) {\n    console.error(error);\n    return res\n      .status(500)\n      .json({ error: "Failed to fetch data from external API" });\n  }\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s break it down."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const { search: searchQuery } = req.query;\n"})}),"\n",(0,s.jsx)(n.p,{children:"By using object destructuring we rename the search param to searchQuery. We do this because the RAWG API expect a search param and it would look weird to do :"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"https://api.rawg.io/api/games?key=${API_KEY}&search=${search}"})}),"\n",(0,s.jsx)(n.p,{children:"However, this is just a matter of personal preference. You can decide to stick with search if you want."}),"\n",(0,s.jsx)(n.p,{children:"Within the Try/Catch statement we make the call to the RAWG API passing our API key from our environment variables."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const response = await fetch(\n    `https://api.rawg.io/api/games?key=${API_KEY}&search=${searchQuery}`,\n    {\n    method: "GET",\n    headers: {\n        //Authorization: `Bearer ${API_KEY}`, some APIs requires using the authorization header but not this one\n        "Content-Type": "application/json",\n    },\n    }\n);\n'})}),"\n",(0,s.jsx)(n.p,{children:"Something to note is that the RAWG API expects you to pass the API key as a param rather than putting it in the Authorization header like other APIs. Also, in Node.js you can\u2019t use fetch by default as you can on the frontend. That\u2019s why we had to install the node-fetch package."}),"\n",(0,s.jsx)(n.p,{children:"The rest of the code is pretty standard error handling. Either way, we always end up returning json with either an error message or the data the client requested."}),"\n",(0,s.jsx)(n.p,{children:"Finally, remember to run the backend using the following command :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"node index.js\n"})}),"\n",(0,s.jsx)(n.h2,{id:"fetching-search-data-on-the-frontend",children:"Fetching Search Data on The Frontend"}),"\n",(0,s.jsx)(n.p,{children:"Now that we have created the backend route we needed, let\u2019s head back to our frontend to write the logic allowing us to fetch the relevant data according to what query the user entered in the search bar."}),"\n",(0,s.jsx)(n.p,{children:"We need to first talk about another very important hook in React called useEffect."}),"\n",(0,s.jsx)(n.h2,{id:"what-is-the-useeffect-hook-and-how-it-works",children:"What is The useEffect Hook and How it Works?"}),"\n",(0,s.jsx)(n.p,{children:"To put it simply, it\u2019s a hook that lets you synchronize a component with an external system. In our case it\u2019s going to be our backend."}),"\n",(0,s.jsx)(n.p,{children:"In practice, it\u2019s a function that\u2019s called within a component and takes usually two params. The first is the function you want to run which is your \u201ceffect\u201d and the other is a dependency array. It will run after the component is first rendered and every time a dependency in its dependency array changes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useEffect } from "react";\n\nexport default function myComponent() {\n\n  useEffect(() => {\n     console.log("will run only once in prod and twice in dev");\n  }, []);\n\n  return <h1>Test</h1>;\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Above is an example of how we use useEffect. We have an empty dependency array meaning that the effect will run only after the component renders the first time. This occurs once in prod but twice in development because we wrapped our app with StrictMode."}),"\n",(0,s.jsx)(n.p,{children:"You can use useEffect without a dependency array but it will run after every render."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'useEffect(() => {\n  console.log("This runs after every render");\n});\n'})}),"\n",(0,s.jsx)(n.h2,{id:"how-is-data-fetched-with-useeffect",children:"How is Data Fetched With useEffect?"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useState, useEffect } from "react";\n\nfunction myComponent() {\n  const [getNewQuote, setGetNewQuote] = useState(false);\n  const [currentQuote, setCurrentQuote] = useState("");\n\n  useEffect(() => {\n    \n    // prevent calling api after the component first renders\n    if (!getNewQuote) return;\n\n    // async function needed within because the function passed to useEffect cannot be async.\n    const fetchData = async () => {\n      const response = await fetch("https://example.com/api/quote");\n      const data = await reponse.json()\n      \n      setCurrentQuote(data.text);\n      setGetNewQuote(true);\n\n    }\n    fetchData();\n  }, [getNewQuote]);\n\n  return (\n    <div>\n      <h1>{currentQuote}</h1>\n      <button onClick={() => setSearch(true)}>Display New Quote</button>\n    </div>\n  );\n\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"In the example above, we fetch and display a new quote from a fictitious API when the user clicks on a button. You\u2019ll notice that the dependency array of our useEffect has the getNewQuote state variable. This means that the hook will run once after the component is rendered the first time (twice in dev because of StrictMode) and then every time getNewQuote is modified."}),"\n",(0,s.jsx)(n.p,{children:"In practice, if you design your app in a way that you need the user to click a button to make an API call, you do not need to use useEffect as you could put the fetching logic within a function you pass to the button\u2019s onClick handler. The example above was just to demonstrate at a basic level how this hook works."}),"\n",(0,s.jsx)(n.p,{children:"In our app\u2019s case, its usage is warranted since we need to make an API call when the user finishes typing something rather than clicking a button."}),"\n",(0,s.jsx)(n.p,{children:"While using this hook like shown above is ok for toy examples, in practice when dealing with APIs, I would recommend using a library like Tanstack Query formerly known as React Query which makes fetching, caching, synchronizing and updating server state a breeze."}),"\n",(0,s.jsx)(n.p,{children:"I recommend this part of the React docs regarding useEffect. Oftentimes, you might be tempted to use it while it\u2019s not necessary. The docs provide helpful guidance regarding this hook."}),"\n",(0,s.jsx)(n.p,{children:"In our app, we will still use useEffect but also create our own hook to deal with loading states (what to show the user while we\u2019re fetching data) and error handling."}),"\n",(0,s.jsx)(n.h2,{id:"creating-a-custom-hook",children:"Creating a Custom Hook"}),"\n",(0,s.jsx)(n.p,{children:"While React offers hooks like useEffect and useState, nothing prevents you from creating your own hook. This is what we\u2019re going to do now. Our hook is going to be called useFetch and will be responsible for fetching the data we need from our backend and dealing with loading states and errors if they occur."}),"\n",(0,s.jsx)(n.p,{children:"Create a new folder called hooks within the src folder and within a file called useFetch.js."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"src\n|- components\n|- hooks\n    |- useFetch.js\n"})}),"\n",(0,s.jsx)(n.p,{children:"In the file you just created, add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useState } from "react";\n\nexport default function useFetch(fetchFunction) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      const result = await fetchFunction();\n      setData(result);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const reset = () => {\n    setData(null);\n    setLoading(false);\n    setError(null);\n  };\n\n  return { data, loading, error, fetchData, reset };\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"useFetch will expect a fetch function which will contain the API call and pass it to its own fetchData function and set the appropriate loading or error states depending ont the situation. The hook returns the data, the loading state, the error state, the fetchData function to fetch data again if needed and finally, a reset function to reset the state if needed."}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s create the fetch function specific to getting the list of games related to a search query. For this purpose, let\u2019s create file called api.js within the src folder. In it, add the following code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const API_ENDPOINT = import.meta.env.VITE_API_ENDPOINT;\n\nexport async function fetchGames({ query }) {\n  const response = await fetch(`${API_ENDPOINT}/games?search=${query}`);\n  return await response.json();\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"For the code above to work we need to define an environment variable in our frontend. This is done just to make it easy to swap in and out the domain of the backend as needed and not for security reasons."}),"\n",(0,s.jsx)(n.p,{children:"Create at the root of your project a .env file containing the domain of our backend."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:'VITE_API_ENDPOINT="http://localhost:3000/api"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now, we can go to App.jsx where we will write the logic to fetch the needed data when the user enters a query in the search bar."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useEffect, useState } from "react";\nimport useFetch from "./hooks/useFetch";\nimport { fetchGames } from "./api";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState("");\n\n  const { data, loading, fetchData, error, reset } = useFetch(() =>\n    fetchGames({ query: searchQuery })\n  );\n\n  useEffect(() => {\n    const timeoutId = setTimeout(async () => {\n      if (searchQuery.trim()) {\n        await fetchData();\n        return;\n      }\n    }, 500);\n\n    return () => clearTimeout(timeoutId);\n  }, [searchQuery]);\n\n  return (\n// ... rest of the code omitted for clarity\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s break it down."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'const [searchQuery, setSearchQuery] = useState("");\nconst { data, loading, fetchData, error, reset } = useFetch(() =>\n    fetchGames({ query: searchQuery })\n);\n'})}),"\n",(0,s.jsx)(n.p,{children:"We call useFetch and pass to it an anonymous function that will call our fetchGames function created in the api.js file and pass to it the user\u2019s search query. The reason we\u2019re wrapping it in a function is that we don\u2019t want to call fetchGames immediately but rather let useFetch call it in its fetchData function. We also couldn\u2019t pass it on its own because we wouldn\u2019t be able to pass the search query param along."}),"\n",(0,s.jsx)(n.p,{children:"Once called, the useFetch hook will return all that we need to display the relevant UI depending on the situation."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"useEffect(() => {\n    const timeoutId = setTimeout(async () => {\n      if (searchQuery.trim()) {\n        await fetchData();\n      }\n    }, 500);\n\n    return () => clearTimeout(timeoutId);\n}, [searchQuery]);\n"})}),"\n",(0,s.jsx)(n.p,{children:"Next, we have our useEffect. We set a timeout of 500ms as to provide enough time after the user has typed before making a request otherwise we would be making a call every time a letter changes which would be wasteful. This is called debouncing."}),"\n",(0,s.jsx)(n.p,{children:"Then, we have an if statement with a call to trim() that removes any whitespace at the beginning and end of a string. If the user didn\u2019t type anything yet or just uses spaces in the search bar, an empty string will be returned which is falsy in JavaScript. Therefore, no API call will be made."}),"\n",(0,s.jsx)(n.p,{children:"Since useEffect will run after the component first renders, in that case the search bar would be empty, we wouldn\u2019t want to make an API call after all."}),"\n",(0,s.jsx)(n.p,{children:"The function we pass to useEffect returns a function that clears the timeout we just created. This is called a cleanup function and is optional when using this hook but needed in our case. This is so we can avoid memory leaks. If we were to not use one here, every time the hook runs, we would create a new timer that would never be deleted."}),"\n",(0,s.jsx)(n.p,{children:"That\u2019s about it. The logic for fetching data is done. To make sure that it actually works, let\u2019s console.log the data fetched. Below the useEffect we just added, create another one with the following content. (Yes, you can have more than one useEffect per component.)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"export default function App() {\n\n  useEffect(() => {\n    // code omitted ...\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (data) console.log(data)\n  }, [data]);\n\n  return (\n  //... code omitted\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Make sure to re-run both the frontend with npm run dev and the backend with node index.js. Now, if you try using the app. You should get the following result."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"creating-the-game-card-component",children:"Creating The Game Card Component"}),"\n",(0,s.jsx)(n.p,{children:"After the user makes a search, we want to display a list of relevant games that will be rendered as a grid of cards where each card contains the game\u2019s title, genres, cover image and the time it takes to complete the game if the data is available."}),"\n",(0,s.jsx)(n.p,{children:"The first step to achieve this is to build a reusable game card component. Inside the components folder, create a file called GameCard.jsx."}),"\n",(0,s.jsx)(n.p,{children:"Within that file, add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function GameCard({\n  coverLink,\n  name,\n  playtime,\n  genres,\n  onClick,\n}) {\n  return (\n    <div className="flex-col relative" onClick={onClick}>\n      <img\n        src={coverLink}\n        loading="lazy"\n        className="w-full h-40 object-cover rounded-md"\n      />\n\n      <h1 className="p-2 text-gray-300 text-lg">{name}</h1>\n      {playtime !== 0 && (\n        <div className="flex items-center gap-2 mx-2 bg-gray-800 p-2 absolute top-2 right-0 rounded-md">\n          <img\n            src="./clock-fill.svg"\n            className="text-gray-300 max-w-xs max-h-xs"\n          />\n          <p className=" text-gray-300 text-sm whitespace-nowrap">\n            {playtime} Hours\n          </p>\n        </div>\n      )}\n\n      <li className="flex flex-row flex-wrap gap-2 m-2 mt-auto">\n        {genres.map((genre) => (\n          <ul className="genre-pill" key={genre.name}>\n            {genre.name}\n          </ul>\n        ))}\n      </li>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We create a component with 5 props."}),"\n",(0,s.jsx)(n.p,{children:"coverLink : The link of the cover image."}),"\n",(0,s.jsx)(n.p,{children:"name : The name of the game."}),"\n",(0,s.jsx)(n.p,{children:"playtime : How long the game takes to beat."}),"\n",(0,s.jsx)(n.p,{children:"genres : An array containing the game\u2019s genres."}),"\n",(0,s.jsx)(n.p,{children:"onClick : A function that will run when the user clicks on a card."}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s break down the JSX returned by the component."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<div className="flex-col relative" onClick={onClick}>\n'})}),"\n",(0,s.jsx)(n.p,{children:"We the return a div that acts as the card container. We set is as a flex container and make it relative so that within, we will be able to place the playtime indicator at the top-right of the card using absolute positioning. We then set the onClick function passed as a prop to trigger when the container is clicked."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<img\n  src={coverLink}\n  className="w-full h-40 object-cover rounded-md"\n/>\n'})}),"\n",(0,s.jsx)(n.p,{children:"We display the game\u2019s cover using a simple img tag. First, the image is set to take the full available width with w-full . The height is set to 40 Tailwind units using h-40."}),"\n",(0,s.jsx)(n.p,{children:"The object-cover Tailwind class is used to render the image in its original aspect ratio while still fitting within the width and height of the img tag. rounded-md stands for rounded medium and makes the corner of the image noticeably rounded."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<h1 className="p-2 text-gray-300 text-lg">{name}</h1>\n'})}),"\n",(0,s.jsx)(n.p,{children:"This h1 tag is used to display the game\u2019s name."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'{playtime !== 0 && (\n        <div className="flex items-center gap-2 mx-2 bg-gray-800 p-2 absolute top-2 right-0 rounded-md">\n          <img\n            src="./clock-fill.svg"\n            className="text-gray-300 max-w-xs max-h-xs"\n          />\n          <p className=" text-gray-300 text-sm whitespace-nowrap">\n            {playtime} Hours\n          </p>\n        </div>\n)}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We use conditional rendering to render the playtime indicator only if the playtime is above 0 hours. Usually, if it\u2019s 0 then that means the playtime data for this game isn\u2019t available. The RAWG API returns 0 in that case."}),"\n",(0,s.jsx)(n.p,{children:"Using absolute positioning we\u2019re able to place the indicator at the top-right corner of the game card by using absolute top-2 right-0."}),"\n",(0,s.jsx)(n.h2,{id:"conditional-rendering-in-react",children:"Conditional Rendering in React"}),"\n",(0,s.jsx)(n.p,{children:"There are many ways to achieve conditional rendering in React. Here are a few examples."}),"\n",(0,s.jsx)(n.p,{children:"First example with an if statement."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function myComp() {\n  if (condition) {\n    return (\n      <div>\n        <h1>B</h1>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h1>A</h1>\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Second example with a boolean expression."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function myComp() {\n   return (\n     <div>\n       {condition && <h1>B</h1>}\n       {!condition && <h1>A</h1>}\n     </div>\n   );\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Third example, with a ternary operator."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"function myComp() {\n   return (\n     <div>\n       {condition ? <h1>B</h1> : <h1>A</h1>}\n     </div>\n   );\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"If you want to achieve conditional rendering within JSX you can\u2019t use an if statement and are forced to use either a boolean expression or a ternary operator. Between using a boolean expression or a ternary operator in the example above, the latter is better since we display \u201cB\u201d in the case the condition is true and \u201cA\u201d otherwise."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"{playtime !== 0 && (... rest of the code)}\n"})}),"\n",(0,s.jsx)(n.p,{children:"However, in our game card component we display the playtime indicator only if its value is above 0 and nothing otherwise. Therefore, the boolean expression is more fitting for our use case."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<li className="flex flex-row flex-wrap gap-2 m-2 mt-auto">\n {genres.map((genre) => (\n    <ul className="genre-pill" key={genre.name}>\n      {genre.name}\n    </ul>\n  ))}\n</li>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Finally, we display the genres of the game. There can be more than one, that\u2019s why we\u2019re rendering this section as a list of items. Now has come the time to understand how lists are rendered in React."}),"\n",(0,s.jsx)(n.p,{children:"Note that the class genre-pill is a custom class and you need to add it to your index.css file for it to work."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:".genre-pill {\n  @apply bg-red-800 rounded-full px-2 text-gray-300 text-sm;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"how-to-render-lists-in-react",children:"How to Render Lists in React"}),"\n",(0,s.jsx)(n.p,{children:"It often occurs when working on Web UIs that you want to render multiple elements at once. For example, you want to render a list of search results, in our case, a bunch of game cards."}),"\n",(0,s.jsx)(n.p,{children:"In React, you can achieve this by using the JavaScript .map function to iterate over an array and for each element return some JSX. At a basic level, it looks like this."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'function myComp() {\n  const lines = ["Hello World!", "Foo", "Bar"];\n\n  return (\n    <ul>\n      {lines.map((line) => <li>{line}</li>)}\n    </ul>\n  );\n}\n {lines.map((line) => <li>{line}</li>)}\n'})}),"\n",(0,s.jsx)(n.p,{children:"However, there is something missing in the code above. When rendering multiple elements, the rendered JSX elements need to be assigned a key. This is to enable React to establish a relationship between array elements and the corresponding JSX element. This becomes very important if items of the list are later added or removed. The key enables React to make the correct updates to the DOM."}),"\n",(0,s.jsx)(n.p,{children:"You might come across React code using the index of the element as the key."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"{lines.map((line, index) => <li key={index}>{line}</li>)}\n"})}),"\n",(0,s.jsx)(n.p,{children:"This is to be avoided when the array can change later down the line. For example, if the elements of the array are sorted in a different order, the relationship between the index and the JSX element will be broken."}),"\n",(0,s.jsx)(n.p,{children:"To avoid this from happening, it\u2019s usually best to use a consistent but unique key. Consistent in the sense that the key doesn\u2019t change from render to render and unique so that no two elements in the list have the same key."}),"\n",(0,s.jsx)(n.p,{children:"In our example above, the only key that would best fulfill these two conditions are the lines themselves."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"{lines.map((line) => <li key={line}>{line}</li>)}\n"})}),"\n",(0,s.jsx)(n.p,{children:"If we assume that the data you want to display comes from a source that you control, you could have decided to assign a unique id for each item before sending the data to the client."}),"\n",(0,s.jsx)(n.p,{children:"For example, let\u2019s assume that each line of our lines array will have an id. You would have something like this :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'[{id: "u90909dfj89", content: "Hello World"}, ...]\n'})}),"\n",(0,s.jsx)(n.p,{children:"You would use the id as the key."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"{lines.map((line) => <li key={line.id}>{line.content}</li>)}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, with destructuring you would do :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"{lines.map(({id, content}) => <li key={id}>{content}</li>)}\n"})}),"\n",(0,s.jsx)(n.p,{children:"For our genres, since the genre name is unique, we use the name for both the content of the list item and the key."}),"\n",(0,s.jsx)(n.h2,{id:"rendering-a-list-of-game-cards",children:"Rendering a List of Game Cards"}),"\n",(0,s.jsx)(n.p,{children:"Now that we have finished the game card component, let\u2019s use it in App.jsx to display relevant games when the search feature is used."}),"\n",(0,s.jsx)(n.p,{children:"Add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// previous code omitted for clarity\nimport GameCard from "./components/GameCard";\n\nexport default function App() {\n  // previous code omitted for clarity\n\n  const { data, loading, fetchData, error, reset } = useFetch(() =>\n    fetchGames({ query: searchQuery })\n  );\n\n  // code omitted for clarity\n\n  // second useEffect is no longer needed. This was just for testing purposes\n  // useEffect(() => {\n  //  if (data) console.log(data);\n  // }, [data]);\n\n  return (\n    <main className="w-full p-2 flex flex-col items-center">\n      {/* code omitted for clarity */}\n      <div className="w-full max-w-4xl">\n        <Search\n          query={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <div className="w-full">\n          {data && (\n            <div className="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">\n              {data.results.map(\n                (game) =>\n                  game.added > 30 && (\n                    <GameCard\n                      key={game.slug}\n                      name={game.name}\n                      coverLink={game.background_image}\n                      playtime={game.playtime}\n                      genres={game.genres}\n                      onClick={() => {\n                        console.log("test");\n                      }}\n                    />\n                  )\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </main>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s break it down."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'{data && (\n  <div className="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">\n    {data.results.map(\n      (game) =>\n        game.added > 30 && (\n          <GameCard\n            key={game.slug}\n            name={game.name}\n            coverLink={game.background_image}\n            playtime={game.playtime}\n            genres={game.genres}\n            onClick={() => {\n              // TODO\n              console.log("test");\n            }}\n          />\n         )\n       )}\n  </div>\n)}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We only render the game cards if the data is available. In that case, we first render a div which acts as a container for all game cards and is going to be displayed as a CSS grid."}),"\n",(0,s.jsxs)(n.p,{children:["grid grid-cols-1 gap-5 sm",":grid-cols-2"," lg",":grid-cols-3","\ngrid : sets the div as a grid container."]}),"\n",(0,s.jsx)(n.p,{children:"grid-cols-1 : sets the grid to have 1 column only."}),"\n",(0,s.jsx)(n.p,{children:"gap-5 : sets a gap of 5 units between each elements in the grid."}),"\n",(0,s.jsxs)(n.p,{children:["sm",":grid-cols-2"," : sets the number of columns of the grid to be 2 on smaller screens and beyond. sm is a media query in Tailwind."]}),"\n",(0,s.jsxs)(n.p,{children:["lg",":grid-cols-3"," : sets the number of columns of the grid to be 3 on larger screens and beyond. lg is also a media query in Tailwind."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'{data.results.map(\n  (game) =>\n    game.added > 30 && (\n      <GameCard\n        key={game.slug}\n        name={game.name}\n        coverLink={game.background_image}\n        playtime={game.playtime}\n        genres={game.genres}\n        onClick={() => {\n          // TODO\n          console.log("test");\n        }}\n      />\n    )\n  )\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We get the game cards data by doing data.results which returns an array. We then map over it to render each game card."}),"\n",(0,s.jsx)(n.p,{children:"Before rendering a game card we make sure that the game has been added at least more than 30 times. The reason we\u2019re doing this is that the RAWG API has the added property which determines how much a game was added. It doesn\u2019t specify what added is exactly but I\u2019ve noticed that if you just render what ever the array has you\u2019ll often find yourself displaying cheap fangames and clones along side more legit titles. To show the best quality results as possible, I have figured out through testing that a game must have been added at least 30 times to be considered \u201clegit\u201d."}),"\n",(0,s.jsx)(n.p,{children:"As mentioned previously when rendering an array in React you must provide a key for each element. Here is no exception. However, you might be wondering if we have to define a prop called key on the GameCard component before passing to it a key since it\u2019s custom made and not a native JSX element? Fortunately, you don\u2019t have to, it\u2019s taken care of automatically by React."}),"\n",(0,s.jsx)(n.p,{children:"Since the RAWG API returns a slug for each game, this will act as our unique key since it never changes for a specific game and is unique."}),"\n",(0,s.jsx)(n.p,{children:"Now that we have added our game card list rendering logic, let\u2019s test it out. Make sure to have your backend and frontend running with node index.js and npm run dev respectively."}),"\n",(0,s.jsx)(n.h2,{id:"handling-edge-cases-and-improving-the-user-experience",children:"Handling Edge Cases and Improving The User Experience"}),"\n",(0,s.jsx)(n.p,{children:"While we were able to successfully display relevant results when a user makes a query there are still edge cases we aren\u2019t handling."}),"\n",(0,s.jsx)(n.h2,{id:"displaying-error-messages-in-the-ui",children:"Displaying Error Messages in The UI"}),"\n",(0,s.jsx)(n.p,{children:"For example, what should be shown to the user if there are no games relevant to what they searched for?"}),"\n",(0,s.jsx)(n.p,{children:"In that case nothing is shown which isn\u2019t a great user experience. To fix this, let\u2019s add a message that will be displayed when no relevant search results are found."}),"\n",(0,s.jsx)(n.p,{children:"Modifiy the code we had previously like shown below."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<div className="w-full">\n  {data && (\n    <>\n      <div className="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">\n        {data.results.map(\n          (game) =>\n            game.added > 30 && (\n              <GameCard\n                key={game.slug}\n                name={game.name}\n                coverLink={game.background_image}\n                playtime={game.playtime}\n                genres={game.genres}\n                onClick={() => {\n                  console.log("test");\n                }}\n              />\n          )\n        )}\n       </div>\n       {data.results.length === 0 && (\n         <div className="w-full flex flex-col justify-center items-center">\n           <img src="./no-results-found.png" className="size-52" />\n           <p className="text-gray-300 text-2xl">No games found!</p>\n         </div>\n        )}\n    </>\n  )}\n</div>\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"<></>"})," is called a React fragment. This is useful when you don\u2019t want to create an unnecessary div to wrap two or more elements at the same level. In our case we want the JSX for the search results and the JSX for the \u201cNo games found!\u201d message to be both children of the container div having the className w-full. There is no need to wrap them under an additional div."]}),"\n",(0,s.jsx)(n.p,{children:"There\u2019s still another edge case we haven\u2019t taken into account. What if, for some reason, the app fails to retrieve data from the backend? Currently we show nothing in that case. However, the wise thing to do is to have some kind of error message displayed to the user."}),"\n",(0,s.jsx)(n.p,{children:"Since this error message is going to have the same structure as the one we used for the \u201cNo games found!\u201d message, let\u2019s create a reusable component in the components folder. Create the file ErrorMessage.jsx with the following code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function ErrorMessage({ message }) {\n  return (\n    <div className="w-full  flex flex-col justify-center items-center">\n      <img src="./no-results-found.png" className="size-52" />\n      <p className="text-gray-300 text-2xl">{message}</p>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now, we can use this component in App.jsx. Import the ErrorMessage component at the top of the file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import ErrorMessage from "./components/ErrorMessage";\n'})}),"\n",(0,s.jsx)(n.p,{children:"Then, replace the JSX we used for the \u201cNo games found!\u201d message."}),"\n",(0,s.jsx)(n.p,{children:"From :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'{data.results.length === 0 && (\n  <div className="w-full flex flex-col justify-center items-center">\n    <img src="./no-results-found.png" className="size-52" />\n    <p className="text-gray-300 text-2xl">No games found!</p>\n  </div>\n)}\nto :\n\n{data.results.length === 0 && (\n  <ErrorMessage message={"No games found!"} />\n)}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s use the same component to display an error message when the apps fail to retrieve the data from the backend."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// previous code omitted for clarity\n<div className="w-full">\n  {data && (...)}\n  {error && <ErrorMessage message={"Network Error Occured!"} />}\n</div>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now, when a network error occurs, you\u2019ll get the following UI."}),"\n",(0,s.jsx)(n.h2,{id:"adding-a-loading-spinner",children:"Adding a Loading Spinner"}),"\n",(0,s.jsx)(n.p,{children:"Another thing to improve upon is the fact that we give no indication to the user that the app is loading search results. Let\u2019s add a spinner so that user doesn\u2019t think the app has crashed."}),"\n",(0,s.jsx)(n.p,{children:"Under the components folder create a file called Spinner.jsx and add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'export default function Spinner() {\n  return (\n    <div role="status">\n      <svg\n        aria-hidden="true"\n        className="w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-500"\n        viewBox="0 0 100 101"\n        fill="none"\n        xmlns="http://www.w3.org/2000/svg"\n      >\n        <path\n          d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"\n          fill="currentColor"\n        />\n        <path\n          d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"\n          fill="currentFill"\n        />\n      </svg>\n      <span className="sr-only">Loading...</span>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"This component is based upon the loading spinner example found here. Most of it is SVG code. I will not explain how SVG work because it\u2019s out of the scope of this tutorial. Let\u2019s just use that spinner as is in our app."}),"\n",(0,s.jsx)(n.p,{children:"In App.jsx, add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// previous code omitted for clarity\nimport Spinner from "./components/Spinner";\n'})}),"\n",(0,s.jsx)(n.p,{children:"Then, modify our existing code where we display the search results :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<div className="w-full">\n  {!loading ? (\n    <>\n      <div className="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">\n        {data?.results.map(\n          (game) =>\n            game.added > 30 && (\n              <GameCard\n                key={game.slug}\n                name={game.name}\n                coverLink={game.background_image}\n                playtime={game.playtime}\n                genres={game.genres}\n                onClick={() => {\n                  console.log("test");\n                }}\n              />\n            )\n         )}\n       </div>\n       {data?.results.length === 0 && (\n         <ErrorMessage message={"No games found!"} />\n       )}\n    </>\n   ) : (\n    <div className="flex justify-center">\n      <Spinner />\n    </div>\n  )}\n  {error && <ErrorMessage message={"Network Error Occurred!"} />}\n</div>\n'})}),"\n",(0,s.jsx)(n.p,{children:"You\u2019ll notice that we now have a ternary operator that determines whenever or not to show the spinner. If we aren\u2019t in a loading state we render the grid or the error message. We use data? with the question mark as to only attempt to access the results property of the data object if it\u2019s available."}),"\n",(0,s.jsx)(n.p,{children:"Now, let\u2019s test it out."}),"\n",(0,s.jsx)(n.h2,{id:"building-the-game-details-component",children:"Building The Game Details Component"}),"\n",(0,s.jsx)(n.p,{children:"The final part of this project consists in building the game details component which is a component that will display a dedicated section for a specific game after having clicked on its game card. In a production app, you would probably use a router like React Router and make it display as its own separate page."}),"\n",(0,s.jsx)(n.p,{children:"However, I wanted to limit the use of third-party libraries, so I opted for displaying a component on the same page instead."}),"\n",(0,s.jsx)(n.h2,{id:"creating-a-new-api-endpoint-to-fetch-more-data",children:"Creating a New API Endpoint to Fetch More Data"}),"\n",(0,s.jsx)(n.p,{children:"Before we build that component, we need to write a new API endpoint in our backend to fetch data specific to a game. This endpoint will return a detailed description of the game. This wasn\u2019t provided by the previous endpoint we had."}),"\n",(0,s.jsx)(n.p,{children:"In your backend, add the following endpoint to your index.js file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.get("/api/game", async (req, res) => {\n  const { gameSlug } = req.query;\n\n  try {\n    const response = await fetch(\n      `https://api.rawg.io/api/games/${gameSlug}?key=${API_KEY}`,\n      {\n        method: "GET",\n        headers: {\n          "Content-Type": "application/json",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error("Failed to fetch data from external API");\n    }\n\n    const data = await response.json();\n\n    return res.json(data);\n  } catch (error) {\n    console.error("Error fetching data from API:", error);\n    return res\n      .status(500)\n      .json({ error: "Failed to fetch data from external API" });\n  }\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"The first API endpoint returns, amongst other things, the game\u2019s slug which we can use to query this second endpoint by passing it as a param."}),"\n",(0,s.jsx)(n.p,{children:"Now restart the backend by doing Ctrl+C and running the command node index.js. Then, in our frontend, in the api.js file, add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// previous code omitted for clarity\n\nexport async function fetchGameData({ gameSlug }) {\n  const response = await fetch(`${API_ENDPOINT}/game?gameSlug=${gameSlug}`);\n  return await response.json();\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Finally, in the components folder, create a new file called GameDetails.jsx and add the following code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useEffect } from "react";\nimport useFetch from "../hooks/useFetch";\nimport { fetchGameData } from "../api";\n\nexport default function GameDetails({ currentGame, goBack }) {\n\n   const { data, loading, fetchData, error, reset } = useFetch(() =>\n     fetchGameData({ gameSlug: currentGame.slug })\n   );\n\n   useEffect(() => {\n    (async () => {\n      await fetchData();\n    })();\n   }, []);\n\n\n   return (<section></section>);\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We started things simple, by writing the logic to fetch the relevant data as soon as the component is rendered. We pass two props to the component. currentGame which is an object that contains the data previously fetched for a specific game. It contains the game\u2019s slug (which is its id), genres, title, etc\u2026 We use the slug to fetch more data (the game\u2019s detailed description)."}),"\n",(0,s.jsx)(n.p,{children:"The second prop is a function used to enable the user to go back to the search results if they wish to do so. Like mentioned earlier, in a production app, use something like React Router so that the user can use the back button of their browser to go back. This is called navigation and isn\u2019t built into React by default, underlining the need for a third party library."}),"\n",(0,s.jsx)(n.p,{children:"Our backend will return a description of the game and is formatted as a single long string. If we render it as is, it will not look good in the UI. That\u2019s why we need to add the following utility function. Place it above where the GameDetails component is defined."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// import statements should be here\n\nfunction createParagraphs(inputString) {\n  // Split the string into sentences using regex to match sentence-ending punctuation (., !, ?)\n  const sentences = inputString.match(/[^.!?]+[.!?]+/g) || [];\n\n  // Initialize an array to hold the paragraphs\n  const paragraphs = [];\n\n  // Loop through the sentences and create paragraphs with a max of 3 sentences\n  for (let i = 0; i < sentences.length; i += 3) {\n    // Join the next 3 sentences to form a paragraph\n    const paragraph = sentences\n      .slice(i, i + 3)\n      .join(" ")\n      .trim();\n    paragraphs.push(paragraph);\n  }\n\n  return paragraphs;\n}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"export default function GameDetails({ currentGame, goBack }) {\n// rest of the code omitted for clarity\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now that we have this, we can modify our GameDetails component like so."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useEffect, useState } from "react";\n// ... other import statements\n\nexport default function GameDetails({ currentGame, goBack }) {\n   const [description, setDescription] = useState([]);\n\n   const { data, loading, fetchData, error, reset } = useFetch(() =>\n     fetchGameData({ gameSlug: currentGame.slug })\n   );\n\n   useEffect(() => {\n    (async () => {\n      await fetchData();\n    })();\n   }, []);\n\n   \n   useEffect(() => {\n    if (data) {\n      const rawDescription = data.description_raw;\n      const paragraphs = createParagraphs(rawDescription);\n\n      setDescription(paragraphs);\n    }\n   }, [data]);\n   \n\n\n   return (<section></section>);\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We create a state variable for holding the description and use a second useEffect to split the game\u2019s description into paragraphs as soon as the data is available."}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s add more JSX but before, import the Spinner component we wrote previously."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import Spinner from "./Spinner";\n// previous code omitted for clarity\n<section>\n  <button className="main-button flex" onClick={goBack}>\n    <img src="./back-arrow.svg" /> <span className="mx-2">Go Back</span>\n  </button>\n\n  {!data ? (\n    <div className="flex justify-center mt-4">\n      <Spinner />\n    </div>\n  ) : (\n    <div className="mt-4">\n      <div className="w-full relative">\n        <div className="absolute inset-0 bg-gradient-to-b from-black via-transparent to-transparent opacity-80"></div>\n        <h1 className="text-gray-200 text-2xl absolute top-5 left-5">\n          {currentGame.name}\n        </h1>\n        <img\n          className="w-full h-40 object-cover rounded-md"\n          src={currentGame.background_image}\n        />\n      </div>\n      <div>\n       \n        <div className="text-gray-300">\n          {description.map((paragraph, index) => (\n            <p className="mt-2" key={index}>\n              {paragraph}\n            </p>\n          ))}\n        </div>\n        \n\n        <div className="w-full flex flex-col items-center p-4 h-96">\n             TODO: Screenshot Carousel\n        </div>\n\n        <div className="grid grid-cols-2 py-4">\n          <div className="flex flex-col">\n            <h2 className="text-gray-300 text-xl">Genres</h2>\n            <ul className="flex flex-wrap gap-2 py-2">\n              {currentGame.genres.map((genre) => (\n                <li className="genre-pill" key={genre.name}>\n                  {genre.name}\n                </li>\n              ))}\n            </ul>\n            <h2 className="text-gray-300 text-xl">Platforms</h2>\n            <ul className="flex flex-wrap gap-2 py-2">\n              {currentGame.platforms.map((platform) => (\n                <li key={platform.platform.name} className="platform-pill">\n                  {platform.platform.name}\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className="flex justify-center items-center">\n            <button\n              className="main-button flex items-center"\n              onClick={() =>\n                window.open(\n                  `https://google.com/search?q=where+to+buy+${currentGame.name}`,\n                  "_blank"\n                )\n              }>\n               <span className="ml-4 mr-2">Purchase</span>\n               <img src="./shopping-cart.svg" className="size-6 mr-4" />\n             </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )}\n</section>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s break it down."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<button className="main-button flex" onClick={goBack}>\n    <img src="./back-arrow.svg" /> <span className="mx-2">Go Back</span>\n</button>\n'})}),"\n",(0,s.jsx)(n.p,{children:"This is the button placed at the top of the component allowing user\u2019s to go back to the search results if they wish to do so. You\u2019ll notice that we\u2019re using a custom class called main-button. Add it to you index.css file. Also, add the platform-pill custom class which is used for displaying the various platforms the game can be played on as pill shaped blue \u201cpills\u201d."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:".main-button {\n  @apply bg-blue-400 rounded-md p-2;\n}\n\n.platform-pill {\n  @apply bg-blue-800 rounded-full px-2 text-gray-300 text-sm;\n}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'{loading ? (\n    <div className="flex justify-center mt-4">\n      <Spinner />\n    </div>\n) : (...)}\n'})}),"\n",(0,s.jsx)(n.p,{children:"We then use a ternary operator, to show a loading spinner while we\u2019re fetching the description data for the game. Once loading is completed, we render some JSX containing a banner with the game\u2019s cover and name followed by the game\u2019s description rendered in multiple paragraphs. Then, we will render a screenshot carousel that will be its own separate component (We will write the code for it later) and finally, we render the list of genres of the game and the various platform you can play it on. Additionally, we render a button that will open up a google page with a query to determine where the user can purchase the game."}),"\n",(0,s.jsx)(n.h2,{id:"rendering-the-game-details-component",children:"Rendering The Game Details Component"}),"\n",(0,s.jsx)(n.p,{children:"Before proceeding with the screenshot carousel component, let\u2019s first try to render the GameDetails component when a user clicks on a game card in the search results."}),"\n",(0,s.jsx)(n.p,{children:"Add the following code to App.jsx."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import GameDetails from "./components/GameDetails";\n\nfunction App() {\n  // ... code omitted for clarity\n\n  const [showGameDetails, setShowGameDetails] = useState(false);\n  const [currentGame, setCurrentGame] = useState(null);\n\n  // ...\n \n  return (\n    // ...\n    <div className="w-full">\n        {!loading && !showGameDetails ? \n            (...) : \n            showGameDetails ?  (\n        <GameDetails\n            currentGame={currentGame}\n            goBack={() => {\n            setShowGameDetails(false);\n            setCurrentGame(null);\n            }}\n        />\n        ) : (\n        <div className="flex justify-center">\n            <Spinner />\n        </div>\n        )}\n    </div>\n       // ...\n\n )\n'})}),"\n",(0,s.jsx)(n.p,{children:"Then, in the onClick of the GameCard components in App.jsx add the following."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"{data.results.map(\n  (game) =>\n    game.added > 30 && (\n      <GameCard\n        key={game.slug}\n        name={game.name}\n        coverLink={game.background_image}\n        playtime={game.playtime}\n        genres={game.genres}\n        onClick={() => {\n          setCurrentGame(game); // <--\n          setShowGameDetails(true); // <--\n        }}\n      />\n    )\n)}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Now, if you run the app (make sure to restart the backend and the frontend) you should have the following results."}),"\n",(0,s.jsx)(n.h2,{id:"creating-the-screenshot-carousel",children:"Creating The Screenshot Carousel"}),"\n",(0,s.jsx)(n.p,{children:"The last component of this project consists in a screenshot carousel. In the components folder, create a file named ScreenshotCarousel.jsx and add the following code :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'import { useState, useEffect } from "react";\n\nexport default function ScreenshotCarousel({ screenshots }) {\n  const [currentScreenshotIndex, setCurrentScreenshotIndex] = useState(0);\n\n  useEffect(() => {\n    // trick to preload the images\n    for (const screenshot of screenshots) {\n      const img = new Image();\n      img.src = screenshot.image;\n    }\n  }, []);\n\n  return (\n    <div\n      className="bg-gray-800 rounded-lg w-full h-full max-h-96 overflow-hidden relative"\n    >\n      <button\n        className="bg-gray-200 rounded-full p-4 absolute top-40 right-5 shadow-gray-700 shadow-xl z-10"\n        onClick={() => {\n          setCurrentScreenshotIndex((currentScreenshotIndex) => {\n            if (currentScreenshotIndex < screenshots.length - 1) {\n              return currentScreenshotIndex + 1;\n            }\n\n            return 0;\n          });\n        }}\n      ><img src="./arrow-right.svg" /></button>\n      <button\n        className="bg-gray-200 rounded-full p-4 absolute top-40 left-5 shadow-gray-700 shadow-xl z-10"\n        onClick={() => {\n          setCurrentScreenshotIndex((currentScreenshotIndex) => {\n            if (currentScreenshotIndex > 0) {\n              return currentScreenshotIndex - 1;\n            }\n\n            return screenshots.length - 1;\n          });\n        }}\n      ><img src="./arrow-left.svg" /></button>\n\n      <img\n        className="object-cover w-full h-full absolute z-0 blur-md opacity-50"\n        src={screenshots[currentScreenshotIndex].image}\n      />\n      <img\n        className="object-contain w-full h-full absolute"\n        src={screenshots[currentScreenshotIndex].image}\n      />\n\n      <span className="bg-gray-900 rounded-full px-4 py-1 text-gray-300 text-xs absolute right-2 top-2 shadow-gray-700 shadow-xl">\n        {currentScreenshotIndex + 1} / {screenshots.length}\n      </span>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let\u2019s break it down."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:"export default function ScreenshotCarousel({ screenshots }) {\nWe set a screenshots prop which will hold the array containing all screenshots of a given game.\n\nconst [currentScreenshotIndex, setCurrentScreenshotIndex] = useState(0);\n\nuseEffect(() => {\n// trick to preload the images\n  for (const screenshot of screenshots) {\n    const img = new Image();\n    img.src = screenshot.image;\n  }\n}, []);\n"})}),"\n",(0,s.jsx)(n.p,{children:"We first declared a state variable for holding the index of the current screenshot being displayed."}),"\n",(0,s.jsx)(n.p,{children:"We use a useEffect to preload all the screenshots. This is useful, so that when the user clicks on the arrow to look at the next image, they will see it instantly and won\u2019t have to wait for it to load."}),"\n",(0,s.jsx)(n.p,{children:"We return a div that acts as the screenshot carousel\u2019s container. It has a background of bg-gray-800, rounded corners with rounded-lg (stands for rounded large), takes the full width available of the parent element with w-full, takes the full height but caps out at 96 units with h-full and max-h-96, prevents overflowing with overflow-hidden and is set to relative so we can absolute position the arrows."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<button\n  className="bg-gray-200 rounded-full p-4 absolute top-40 right-5 shadow-gray-700 shadow-xl z-10"\n  onClick={() => {\n    setCurrentScreenshotIndex((currentScreenshotIndex) => {\n      if (currentScreenshotIndex < screenshots.length - 1) {\n        return currentScreenshotIndex + 1;\n      }\n\n      return 0;\n    });\n  }}\n><img src="./arrow-right.svg" /></button>\n<button\n  className="bg-gray-200 rounded-full p-4 absolute top-40 left-5 shadow-gray-700 shadow-xl z-10"\n  onClick={() => {\n    setCurrentScreenshotIndex((currentScreenshotIndex) => {\n      if (currentScreenshotIndex > 0) {\n        return currentScreenshotIndex - 1;\n      }\n\n      return screenshots.length - 1;\n    });\n  }}\n><img src="./arrow-left.svg" /></button>  \n'})}),"\n",(0,s.jsx)(n.p,{children:"Here, we added our two arrow buttons that allow the user to move back and forth. For both buttons their onClick handlers updates the screenshot index properly by making sure that we don\u2019t go out of the bounds of the screenshots array."}),"\n",(0,s.jsx)(n.p,{children:"Once the screenshot index is set, the carousel will re-render to display the correct image which is set here."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<img\n  className="object-cover w-full h-full absolute z-0 blur-md opacity-50"\n  src={screenshots[currentScreenshotIndex].image}\n/>\n<img\n  className="object-contain w-full h-full absolute"\n  src={screenshots[currentScreenshotIndex].image}\n/>\n'})}),"\n",(0,s.jsx)(n.p,{children:"The reason we have two img tags, is that the first one will act as the background and will be blurred while the second img tag displays the screenshot visible by the user."}),"\n",(0,s.jsx)(n.p,{children:"We use object-cover for the first tag, so that the image will take all the available space in the container and we use object-contain in the second image so that the image retain its aspect ratio. Therefore, the user will be able to see the full screenshot without having part of it cropped out."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'<span className="bg-gray-900 rounded-full px-4 py-1 text-gray-300 text-xs absolute right-2 top-2 shadow-gray-700 shadow-xl">\n  {currentScreenshotIndex + 1} / {screenshots.length}\n</span>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Finally, we have a span tag which will render as a top-right indicator of which screenshot you\u2019re currently viewing."}),"\n",(0,s.jsx)(n.p,{children:"Now, that we have finished the carousel component, let\u2019s add it in GameDetails.jsx."}),"\n",(0,s.jsx)(n.p,{children:"First import the carousel at the top of the file."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// previous code omitted for clarity\nimport ScreenshotCarousel from "./ScreenshotCarousel";\n//Then, replace this :\n\n<div className="w-full flex flex-col items-center p-4 h-96">\n  TODO: Screenshot Carousel\n</div>\nWith :\n\n<div className="w-full flex flex-col items-center p-4 h-96">\n  {currentGame.short_screenshots.length !== 0 && (\n    <ScreenshotCarousel\n      screenshots={currentGame.short_screenshots.slice(0)} // exclude the first screenshot since it\'s the same as the cover\n    />\n  )}\n</div>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now, if you run the project, you should get the following."})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},4662:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/game-db_screenshot-94eb04a6e90b83098a355558ebe51fb2.webp"},8368:e=>{e.exports=JSON.parse('{"permalink":"/antoinecoulon-docs/blog/tuto-game-database","source":"@site/blog/2025-05-12-tuto-ReactJs-ExpressJs_game-database.md","title":"R\xe9aliser un projet avec React.js, Express.js, Vite, TailwindCSS","description":"React is the most popular JavaScript \u201clibrary\u201d for building Web user interfaces. In this tutorial, I\u2019ll teach the basics of React by building an app for searching games you might be interested in buying. I called it the Game Database. While this project is simple, it will teach you a lot about React and modern web development.","date":"2025-05-12T00:00:00.000Z","tags":[{"inline":false,"label":"Learn","permalink":"/antoinecoulon-docs/blog/tags/learn","description":"Learn tag description"}],"readingTime":61.65,"hasTruncateMarker":true,"authors":[{"name":"Antoine Coulon","title":"Full Stack Developer","url":"https://github.com/antoinecoulon","page":{"permalink":"/antoinecoulon-docs/blog/authors/antoine"},"socials":{"github":"https://github.com/antoinecoulon"},"imageURL":"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.UOoZp5qhNBeRme8CWQEfhwHaHa%26pid%3DApi&f=1&ipt=41a6bf54d5af486981479c984ff25af6b8be4ab40dc716ccfefae0caba011cf3&ipo=images","key":"antoine"}],"frontMatter":{"slug":"tuto-game-database","title":"R\xe9aliser un projet avec React.js, Express.js, Vite, TailwindCSS","authors":["antoine"],"tags":["learn"]},"unlisted":false,"nextItem":{"title":"Obtenir une API Key OpenRouter.AI et impl\xe9mentation","permalink":"/antoinecoulon-docs/blog/tuto-openrouterai"}}')},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var a=t(6540);const s={},o=a.createContext(s);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);